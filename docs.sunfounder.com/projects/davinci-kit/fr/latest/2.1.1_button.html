

<!DOCTYPE html>
<html class="writer-html5" lang="fr" data-content_root="./">
<head>
  <meta charset="utf-8" />
  <meta name="readthedocs-addons-api-version" content="1"><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>2.1.1 Bouton &mdash; Documentation SunFounder davinci-kit-for-raspberry-pi </title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css%3Fv=80d5e7a1.css" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css%3Fv=e59714d7.css" />
      <link rel="stylesheet" type="text/css" href="_static/copybutton.css%3Fv=76b2166b.css" />
      <link rel="stylesheet" type="text/css" href="https://ezblock.cc/readDocFile/custom.css" />
      <link rel="stylesheet" type="text/css" href="https://ezblock.cc/readDocFile/readTheDoc/src/css/index.css" />
      <link rel="stylesheet" type="text/css" href="https://ezblock.cc/readDocFile/readTheDoc/src/css/xterm.css" />

  
      <script src="_static/jquery.js%3Fv=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js%3Fv=2cd50e6c"></script>
      <script src="_static/documentation_options.js%3Fv=d1a510d7"></script>
      <script src="_static/doctools.js%3Fv=9a2dae69"></script>
      <script src="_static/sphinx_highlight.js%3Fv=dc90522c"></script>
      <script src="_static/clipboard.min.js%3Fv=a7894cd8"></script>
      <script src="_static/copybutton.js%3Fv=f281be69"></script>
      <script src="_static/translations.js%3Fv=bf059b8c"></script>
      <script src="https://ezblock.cc/readDocFile/custom.js"></script>
      <script src="https://docs.sunfounder.com/projects/davinci-kit/fr/latest/_static/lang.js"></script>
      <script src="https://ezblock.cc/readDocFile/readTheDoc/src/js/ace.js"></script>
      <script src="https://ezblock.cc/readDocFile/readTheDoc/src/js/ext-language_tools.js"></script>
      <script src="https://ezblock.cc/readDocFile/readTheDoc/src/js/theme-chrome.js"></script>
      <script src="https://ezblock.cc/readDocFile/readTheDoc/src/js/mode-python.js"></script>
      <script src="https://ezblock.cc/readDocFile/readTheDoc/src/js/mode-sh.js"></script>
      <script src="https://ezblock.cc/readDocFile/readTheDoc/src/js/monokai.js"></script>
      <script src="https://ezblock.cc/readDocFile/readTheDoc/src/js/xterm.js"></script>
      <script src="https://ezblock.cc/readDocFile/readTheDoc/src/js/FitAddon.js"></script>
      <script src="https://ezblock.cc/readDocFile/readTheDoc/src/js/readTheDocIndex.js"></script>
    <script src="_static/js/theme.js"></script>
    <script src="_static/js/versions.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Recherche" href="search.html" />
    <link rel="next" title="2.1.2 Interrupteur à glissière" href="2.1.2_slide&#32;Switch.html" />
    <link rel="prev" title="2 Entrée" href="2_input.html" /> 
<script async type="text/javascript" src="../../../../_/static/javascript/readthedocs-addons.js"></script><meta name="readthedocs-project-slug" content="davinci-kit-fr" /><meta name="readthedocs-version-slug" content="latest" /><meta name="readthedocs-resolver-filename" content="/2.1.1_button.html" /><meta name="readthedocs-http-status" content="200" /></head>

<body class="wy-body-for-nav">
<nav id="nav-bar">
  <ul class="nav-bar-items" id="nav-bar-items">
    <li class="nav-bar-logo">
      <a href="https://sunfounder.com">
        <img class="logo-img" src="https://ezblock.cc/readDocFile/sunfounder_LOGO_160x@2x.png"/>
      </a>
    </li>
  </ul>
</nav>

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            SunFounder davinci-kit-for-raspberry-pi
          </a>
              <div class="switch-menus">
                <div class="version-switch"></div>
                <div class="language-switch"></div>
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Rechercher docs" aria-label="Rechercher docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="index.html">About this Kit</a></li>
<li class="toctree-l1"><a class="reference internal" href="component_list.html">Liste des composants</a></li>
<li class="toctree-l1"><a class="reference internal" href="gpio_extension_board.html">Carte d’extension GPIO</a></li>
<li class="toctree-l1"><a class="reference internal" href="download_the_code.html">Download the Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="install_setup_os/install_setup_os.html">Installer et Configurer le Système d’Exploitation Raspberry Pi</a></li>
<li class="toctree-l1"><a class="reference internal" href="for_pi5.html">Pour le Pi 5</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="for_other_models.html">Pour Pi 4, 3 et Tous les Autres Modèles de Pi</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="libraries.html">Bibliothèques</a></li>
<li class="toctree-l2"><a class="reference internal" href="1_output.html">1 Sorties</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="2_input.html">2 Entrée</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="2.1.1_button.html#">2.1.1 Bouton</a><ul>
<li class="toctree-l4"><a class="reference internal" href="2.1.1_button.html#introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="2.1.1_button.html#composants">Composants</a></li>
<li class="toctree-l4"><a class="reference internal" href="2.1.1_button.html#principe">Principe</a></li>
<li class="toctree-l4"><a class="reference internal" href="2.1.1_button.html#schema-electrique">Schéma électrique</a></li>
<li class="toctree-l4"><a class="reference internal" href="2.1.1_button.html#procedures-experimentales">Procédures expérimentales</a></li>
<li class="toctree-l4"><a class="reference internal" href="2.1.1_button.html#image-du-resultat">Image du Résultat</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="2.1.2_slide&#32;Switch.html">2.1.2 Interrupteur à glissière</a></li>
<li class="toctree-l3"><a class="reference internal" href="2.1.3_tilt_switch.html">2.1.3 Interrupteur à bascule</a></li>
<li class="toctree-l3"><a class="reference internal" href="2.1.4_potentiometer.html">2.1.4 Potentiomètre</a></li>
<li class="toctree-l3"><a class="reference internal" href="2.1.5_keypad.html">2.1.5 Keypad</a></li>
<li class="toctree-l3"><a class="reference internal" href="2.1.6_joystick.html">2.1.6 Joystick</a></li>
<li class="toctree-l3"><a class="reference internal" href="2.2.1_photoresistor.html">2.2.1 Photoresistor</a></li>
<li class="toctree-l3"><a class="reference internal" href="2.2.2_thermistor.html">2.2.2 Thermistor</a></li>
<li class="toctree-l3"><a class="reference internal" href="2.2.3_dht-11.html">2.2.3 DHT-11</a></li>
<li class="toctree-l3"><a class="reference internal" href="2.2.4_pir.html">2.2.4 Capteur PIR</a></li>
<li class="toctree-l3"><a class="reference internal" href="2.2.5_ultrasonic_sensor_module.html">2.2.5 Module de Capteur Ultrasonique</a></li>
<li class="toctree-l3"><a class="reference internal" href="2.2.6_mpu6050_module.html">2.2.6 Module MPU6050</a></li>
<li class="toctree-l3"><a class="reference internal" href="2.2.7_mfrc522_rfid_module.html">2.2.7 Module RFID MFRC522</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="3_extension.html">3 Extension</a></li>
<li class="toctree-l2"><a class="reference internal" href="processing/play_with_processing.html">Jouer avec Processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="nodejs/play_with_nodejs.html">Jouer avec Node.js</a></li>
<li class="toctree-l2"><a class="reference internal" href="scratch/play_with_scratch.html">Jouer avec Scratch</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="python_video/python_video.html">Cours vidéo Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="appendix/appendix.html">Appendice</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="thank-learning.html">Remerciements</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">SunFounder davinci-kit-for-raspberry-pi</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="for_other_models.html">Pour Pi 4, 3 et Tous les Autres Modèles de Pi</a></li>
          <li class="breadcrumb-item"><a href="2_input.html">2 Entrée</a></li>
      <li class="breadcrumb-item active">2.1.1 Bouton</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/2.1.1_button.rst.txt" rel="nofollow"> Afficher la source de la page</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="admonition note">
<p class="admonition-title">Note</p>
<p>Bonjour, bienvenue dans la communauté SunFounder Raspberry Pi &amp; Arduino &amp; ESP32 Enthusiasts sur Facebook ! Explorez plus en profondeur Raspberry Pi, Arduino et ESP32 avec d’autres passionnés.</p>
<p><strong>Pourquoi rejoindre ?</strong></p>
<ul class="simple">
<li><p><strong>Support d’experts</strong> : Résolvez les problèmes après-vente et relevez les défis techniques grâce à l’aide de notre communauté et de notre équipe.</p></li>
<li><p><strong>Apprendre &amp; partager</strong> : Échangez des astuces et des tutoriels pour améliorer vos compétences.</p></li>
<li><p><strong>Aperçus exclusifs</strong> : Obtenez un accès anticipé aux annonces de nouveaux produits et aux avant-premières.</p></li>
<li><p><strong>Réductions spéciales</strong> : Bénéficiez de réductions exclusives sur nos nouveaux produits.</p></li>
<li><p><strong>Promotions festives et concours</strong> : Participez à des concours et à des promotions spéciales pendant les fêtes.</p></li>
</ul>
<p>👉 Prêt à explorer et créer avec nous ? Cliquez sur [<a href="https://bit.ly/raphaelkit " target="_blank">Ici</a>] et rejoignez-nous dès aujourd’hui !</p>
</div>
<section id="bouton">
<span id="button"></span><h1>2.1.1 Bouton<a class="headerlink" href="2.1.1_button.html#bouton" title="Lien vers cette rubrique"></a></h1>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="2.1.1_button.html#introduction" title="Lien vers cette rubrique"></a></h2>
<p>Dans cette leçon, nous apprendrons à allumer ou éteindre une LED à l’aide d’un bouton.</p>
</section>
<section id="composants">
<h2>Composants<a class="headerlink" href="2.1.1_button.html#composants" title="Lien vers cette rubrique"></a></h2>
<img alt="_images/list_2.1.1_Button.png" src="_images/list_2.1.1_Button.png" />
</section>
<section id="principe">
<h2>Principe<a class="headerlink" href="2.1.1_button.html#principe" title="Lien vers cette rubrique"></a></h2>
<p><strong>Bouton</strong></p>
<p>Le bouton est un composant commun utilisé pour contrôler les appareils électroniques.
Il sert généralement de commutateur pour connecter ou couper les circuits. Bien que
les boutons existent dans différentes tailles et formes, celui utilisé ici est un
mini-bouton de 6 mm comme illustré dans les images ci-dessous.</p>
<p>Les deux broches de gauche sont connectées, et celles de droite sont similaires à
celles de gauche, comme montré ci-dessous :</p>
<a class="reference internal image-reference" href="_images/image148.png"><img alt="_images/image148.png" class="align-center" src="_images/image148.png" style="width: 400px;" />
</a>
<p>Le symbole suivant est souvent utilisé pour représenter un bouton dans les circuits.</p>
<a class="reference internal image-reference" href="_images/image301.png"><img alt="_images/image301.png" class="align-center" src="_images/image301.png" style="width: 400px;" />
</a>
<p>Lorsque le bouton est pressé, les 4 broches sont connectées, fermant ainsi le circuit.</p>
</section>
<section id="schema-electrique">
<h2>Schéma électrique<a class="headerlink" href="2.1.1_button.html#schema-electrique" title="Lien vers cette rubrique"></a></h2>
<p>Utilisez un bouton normalement ouvert comme entrée pour le Raspberry Pi. Le schéma de
connexion est illustré ci-dessous. Lorsque le bouton est pressé, le GPIO18 passe à un
niveau bas (0V). Nous pouvons détecter l’état du GPIO18 via un programme. Si le GPIO18
passe à un niveau bas, cela signifie que le bouton est pressé. Vous pouvez exécuter le
code correspondant lorsque le bouton est pressé, et la LED s’allumera.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>La broche la plus longue de la LED est l’anode et la plus courte est la cathode.</p>
</div>
<a class="reference internal image-reference" href="_images/image302.png"><img alt="_images/image302.png" class="align-center" src="_images/image302.png" style="width: 600px;" />
</a>
<a class="reference internal image-reference" href="_images/image303.png"><img alt="_images/image303.png" class="align-center" src="_images/image303.png" style="width: 400px;" />
</a>
</section>
<section id="procedures-experimentales">
<h2>Procédures expérimentales<a class="headerlink" href="2.1.1_button.html#procedures-experimentales" title="Lien vers cette rubrique"></a></h2>
<p><strong>Étape 1</strong> : Construisez le circuit.</p>
<a class="reference internal image-reference" href="_images/image152.png"><img alt="_images/image152.png" src="_images/image152.png" style="width: 800px;" />
</a>
<section id="pour-les-utilisateurs-du-langage-c">
<h3>Pour les utilisateurs du langage C<a class="headerlink" href="2.1.1_button.html#pour-les-utilisateurs-du-langage-c" title="Lien vers cette rubrique"></a></h3>
<p><strong>Étape 2</strong> : Ouvrez le fichier de code.</p>
<run></run><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">~/</span><span class="n">davinci</span><span class="o">-</span><span class="n">kit</span><span class="o">-</span><span class="k">for</span><span class="o">-</span><span class="n">raspberry</span><span class="o">-</span><span class="n">pi</span><span class="o">/</span><span class="n">c</span><span class="o">/</span><span class="mf">2.1.1</span><span class="o">/</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Changez de répertoire pour accéder au chemin du code de cette expérience via <strong>cd</strong>.</p>
</div>
<p><strong>Étape 3</strong> : Compilez le code.</p>
<run></run><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gcc</span> <span class="mf">2.1.1</span><span class="n">_Button</span><span class="o">.</span><span class="n">c</span> <span class="o">-</span><span class="n">lwiringPi</span>
</pre></div>
</div>
<p><strong>Étape 4</strong> : Exécutez le fichier exécutable.</p>
<run></run><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="o">./</span><span class="n">a</span><span class="o">.</span><span class="n">out</span>
</pre></div>
</div>
<p>Une fois le code exécuté, appuyez sur le bouton, la LED s’allume ; sinon, elle s’éteint.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Si cela ne fonctionne pas après l’exécution ou si un message d’erreur s’affiche : « wiringPi.h: Aucun fichier ou répertoire de ce type », veuillez vous référer à <a class="reference internal" href="faq.html#c-code-is-not-working"><span class="std std-ref">C code is not working?</span></a>.</p>
</div>
<p><strong>Code</strong></p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;wiringPi.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>

<span class="cp">#define LedPin      0</span>
<span class="cp">#define ButtonPin   1</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">){</span>
<span class="w">    </span><span class="c1">// Lorsque l&#39;initialisation de wiringPi échoue, afficher un message à l&#39;écran</span>
<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">wiringPiSetup</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">-1</span><span class="p">){</span>
<span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;setup wiringPi failed !&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">pinMode</span><span class="p">(</span><span class="n">LedPin</span><span class="p">,</span><span class="w"> </span><span class="n">OUTPUT</span><span class="p">);</span>
<span class="w">    </span><span class="n">pinMode</span><span class="p">(</span><span class="n">ButtonPin</span><span class="p">,</span><span class="w"> </span><span class="n">INPUT</span><span class="p">);</span>
<span class="w">    </span><span class="n">digitalWrite</span><span class="p">(</span><span class="n">LedPin</span><span class="p">,</span><span class="w"> </span><span class="n">HIGH</span><span class="p">);</span>

<span class="w">    </span><span class="k">while</span><span class="p">(</span><span class="mi">1</span><span class="p">){</span>
<span class="w">        </span><span class="c1">// Indiquer que le bouton a été pressé</span>
<span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">digitalRead</span><span class="p">(</span><span class="n">ButtonPin</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">){</span>
<span class="w">            </span><span class="c1">// LED allumée</span>
<span class="w">            </span><span class="n">digitalWrite</span><span class="p">(</span><span class="n">LedPin</span><span class="p">,</span><span class="w"> </span><span class="n">LOW</span><span class="p">);</span>
<span class="w">        </span><span class="c1">//  printf(&quot;...LED allumée\n&quot;);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">else</span><span class="p">{</span>
<span class="w">            </span><span class="c1">// LED éteinte</span>
<span class="w">            </span><span class="n">digitalWrite</span><span class="p">(</span><span class="n">LedPin</span><span class="p">,</span><span class="w"> </span><span class="n">HIGH</span><span class="p">);</span>
<span class="w">        </span><span class="c1">//  printf(&quot;LED éteinte...\n&quot;);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Explication du code</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#define LedPin      0</span>
</pre></div>
</div>
<p>Le GPIO17 sur la carte T_Extension est équivalent à GPIO0 dans wiringPi.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#define ButtonPin   1</span>
</pre></div>
</div>
<p>Le bouton est connecté à GPIO1.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pinMode</span><span class="p">(</span><span class="n">LedPin</span><span class="p">,</span> <span class="n">OUTPUT</span><span class="p">);</span>
</pre></div>
</div>
<p>Définit LedPin comme sortie pour pouvoir lui attribuer une valeur.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pinMode</span><span class="p">(</span><span class="n">ButtonPin</span><span class="p">,</span> <span class="n">INPUT</span><span class="p">);</span>
</pre></div>
</div>
<p>Définit ButtonPin comme entrée pour lire sa valeur.</p>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="k">while</span><span class="p">(</span><span class="mi">1</span><span class="p">){</span>
<span class="w">        </span><span class="c1">// Indiquer que le bouton a été pressé</span>
<span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">digitalRead</span><span class="p">(</span><span class="n">ButtonPin</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">){</span>
<span class="w">            </span><span class="c1">// LED allumée</span>
<span class="w">            </span><span class="n">digitalWrite</span><span class="p">(</span><span class="n">LedPin</span><span class="p">,</span><span class="w"> </span><span class="n">LOW</span><span class="p">);</span>
<span class="w">        </span><span class="c1">//  printf(&quot;...LED allumée\n&quot;);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">else</span><span class="p">{</span>
<span class="w">            </span><span class="c1">// LED éteinte</span>
<span class="w">            </span><span class="n">digitalWrite</span><span class="p">(</span><span class="n">LedPin</span><span class="p">,</span><span class="w"> </span><span class="n">HIGH</span><span class="p">);</span>
<span class="w">        </span><span class="c1">//  printf(&quot;LED éteinte...\n&quot;);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
</pre></div>
</div>
<p>if (digitalRead(ButtonPin) == 0) : vérifie si le bouton a été pressé. Exécute
digitalWrite(LedPin, LOW) pour allumer la LED lorsque le bouton est pressé.</p>
</section>
<section id="pour-les-utilisateurs-de-python">
<h3>Pour les utilisateurs de Python<a class="headerlink" href="2.1.1_button.html#pour-les-utilisateurs-de-python" title="Lien vers cette rubrique"></a></h3>
<p><strong>Étape 2</strong> : Ouvrez le fichier de code.</p>
<run></run><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">~/</span><span class="n">davinci</span><span class="o">-</span><span class="n">kit</span><span class="o">-</span><span class="k">for</span><span class="o">-</span><span class="n">raspberry</span><span class="o">-</span><span class="n">pi</span><span class="o">/</span><span class="n">python</span>
</pre></div>
</div>
<p><strong>Étape 3</strong> : Exécutez le code.</p>
<run></run><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">python3</span> <span class="mf">2.1.1</span><span class="n">_Button</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>Appuyez maintenant sur le bouton et la LED s’allumera ; appuyez à nouveau sur le
bouton et la LED s’éteindra. En même temps, l’état de la LED sera affiché à l’écran.</p>
<p><strong>Code</strong></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Vous pouvez <strong>Modifier/Réinitialiser/Copier/Exécuter/Arrêter</strong> le code ci-dessous. Mais avant cela, vous devez accéder au chemin du code comme <code class="docutils literal notranslate"><span class="pre">davinci-kit-for-raspberry-pi/python</span></code>.</p>
</div>
<run></run><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">RPi.GPIO</span> <span class="k">as</span> <span class="nn">GPIO</span>
<span class="kn">import</span> <span class="nn">time</span>

<span class="n">LedPin</span> <span class="o">=</span> <span class="mi">17</span> <span class="c1"># Définir GPIO17 comme broche LED</span>
<span class="n">BtnPin</span> <span class="o">=</span> <span class="mi">18</span> <span class="c1"># Définir GPIO18 comme broche du bouton</span>

<span class="n">Led_status</span> <span class="o">=</span> <span class="kc">True</span> <span class="c1"># Initialiser l&#39;état de la LED à True (ÉTEINT)</span>

<span class="c1"># Définir une fonction d&#39;initialisation</span>
<span class="k">def</span> <span class="nf">setup</span><span class="p">():</span>
    <span class="c1"># Configurer les GPIO en mode Numérotation BCM</span>
    <span class="n">GPIO</span><span class="o">.</span><span class="n">setmode</span><span class="p">(</span><span class="n">GPIO</span><span class="o">.</span><span class="n">BCM</span><span class="p">)</span>
    <span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">LedPin</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">OUT</span><span class="p">,</span> <span class="n">initial</span><span class="o">=</span><span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">)</span>  <span class="c1"># Configurer LedPin en sortie, avec un niveau initial élevé (3,3V)</span>
    <span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">BtnPin</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">IN</span><span class="p">)</span> <span class="c1"># Configurer BtnPin en entrée.</span>

<span class="c1"># Définir une fonction de rappel pour le bouton</span>
<span class="k">def</span> <span class="nf">swLed</span><span class="p">(</span><span class="n">ev</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="k">global</span> <span class="n">Led_status</span>
    <span class="c1"># Basculer l&#39;état de la LED (allumé--&gt;éteint; éteint--&gt;allumé)</span>
    <span class="n">Led_status</span> <span class="o">=</span> <span class="ow">not</span> <span class="n">Led_status</span>
    <span class="n">GPIO</span><span class="o">.</span><span class="n">output</span><span class="p">(</span><span class="n">LedPin</span><span class="p">,</span> <span class="n">Led_status</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">Led_status</span><span class="p">:</span>
        <span class="nb">print</span> <span class="p">(</span><span class="s1">&#39;LED OFF...&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span> <span class="p">(</span><span class="s1">&#39;...LED ON&#39;</span><span class="p">)</span>

<span class="c1"># Définir la fonction principale</span>
<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="c1"># Détecter un front descendant sur BtnPin</span>
    <span class="c1"># et appeler la fonction de rappel swLed</span>
    <span class="n">GPIO</span><span class="o">.</span><span class="n">add_event_detect</span><span class="p">(</span><span class="n">BtnPin</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">FALLING</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="n">swLed</span><span class="p">)</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="c1"># Ne rien faire.</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># Définir une fonction destroy pour nettoyer après l&#39;exécution</span>
<span class="k">def</span> <span class="nf">destroy</span><span class="p">():</span>
    <span class="c1"># Éteindre la LED</span>
    <span class="n">GPIO</span><span class="o">.</span><span class="n">output</span><span class="p">(</span><span class="n">LedPin</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">)</span>
    <span class="c1"># Libérer les ressources</span>
    <span class="n">GPIO</span><span class="o">.</span><span class="n">cleanup</span><span class="p">()</span>

<span class="c1"># Si ce script est exécuté directement :</span>
<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">setup</span><span class="p">()</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">main</span><span class="p">()</span>
    <span class="c1"># Lorsque &#39;Ctrl+C&#39; est pressé, la fonction</span>
    <span class="c1"># destroy() sera exécutée.</span>
    <span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
        <span class="n">destroy</span><span class="p">()</span>
</pre></div>
</div>
<p><strong>Explication du Code</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LedPin</span> <span class="o">=</span> <span class="mi">17</span>
</pre></div>
</div>
<p>Définir GPIO17 comme broche LED.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">BtnPin</span> <span class="o">=</span> <span class="mi">18</span>
</pre></div>
</div>
<p>Définir GPIO18 comme broche du bouton.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">GPIO</span><span class="o">.</span><span class="n">add_event_detect</span><span class="p">(</span><span class="n">BtnPin</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">FALLING</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="n">swLed</span><span class="p">)</span>
</pre></div>
</div>
<p>Configurer une détection de front descendant sur BtnPin. Lorsque la valeur de
BtnPin passe d’un niveau élevé à un niveau bas, cela signifie que le bouton
a été pressé. La fonction swLed est alors appelée.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">swLed</span><span class="p">(</span><span class="n">ev</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="k">global</span> <span class="n">Led_status</span>
<span class="c1"># Basculer l&#39;état de la LED (allumé--&gt;éteint; éteint--&gt;allumé)</span>
<span class="n">Led_status</span> <span class="o">=</span> <span class="ow">not</span> <span class="n">Led_status</span>
<span class="n">GPIO</span><span class="o">.</span><span class="n">output</span><span class="p">(</span><span class="n">LedPin</span><span class="p">,</span> <span class="n">Led_status</span><span class="p">)</span>
</pre></div>
</div>
<p>Définir une fonction de rappel pour le bouton. Lors de la première pression
sur le bouton, si la condition not Led_status est fausse, la fonction GPIO.output()
est appelée pour allumer la LED. En appuyant à nouveau sur le bouton, l’état de la
LED passe de faux à vrai, éteignant ainsi la LED.</p>
</section>
</section>
<section id="image-du-resultat">
<h2>Image du Résultat<a class="headerlink" href="2.1.1_button.html#image-du-resultat" title="Lien vers cette rubrique"></a></h2>
<img alt="_images/image153.jpeg" src="_images/image153.jpeg" />
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Pied de page">
        <a href="2_input.html" class="btn btn-neutral float-left" title="2 Entrée" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Précédent</a>
        <a href="2.1.2_slide&#32;Switch.html" class="btn btn-neutral float-right" title="2.1.2 Interrupteur à glissière" accesskey="n" rel="next">Suivant <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Droits d'auteur 2025, SunFounder.</p>
  </div>

  Compilé avec <a href="https://www.sphinx-doc.org/">Sphinx</a> en utilisant un
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">thème</a>
    fourni par <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>