

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" />
  <meta name="readthedocs-addons-api-version" content="1"><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>1.3.1 Motor &mdash; SunFounder davinci-kit-for-raspberry-pi  documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css%3Fv=80d5e7a1.css" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css%3Fv=e59714d7.css" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css%3Fv=76b2166b.css" />
      <link rel="stylesheet" type="text/css" href="https://ezblock.cc/readDocFile/custom.css" />
      <link rel="stylesheet" type="text/css" href="https://ezblock.cc/readDocFile/readTheDoc/src/css/index.css" />
      <link rel="stylesheet" type="text/css" href="https://ezblock.cc/readDocFile/readTheDoc/src/css/xterm.css" />

  
      <script src="../_static/jquery.js%3Fv=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js%3Fv=2cd50e6c"></script>
      <script src="../_static/documentation_options.js%3Fv=5929fcd5"></script>
      <script src="../_static/doctools.js%3Fv=9a2dae69"></script>
      <script src="../_static/sphinx_highlight.js%3Fv=dc90522c"></script>
      <script src="../_static/clipboard.min.js%3Fv=a7894cd8"></script>
      <script src="../_static/copybutton.js%3Fv=f281be69"></script>
      <script src="https://ezblock.cc/readDocFile/custom.js"></script>
      <script src="https://docs.sunfounder.com/projects/davinci-kit/en/latest/_static/lang.js"></script>
      <script src="https://ezblock.cc/readDocFile/readTheDoc/src/js/ace.js"></script>
      <script src="https://ezblock.cc/readDocFile/readTheDoc/src/js/ext-language_tools.js"></script>
      <script src="https://ezblock.cc/readDocFile/readTheDoc/src/js/theme-chrome.js"></script>
      <script src="https://ezblock.cc/readDocFile/readTheDoc/src/js/mode-python.js"></script>
      <script src="https://ezblock.cc/readDocFile/readTheDoc/src/js/mode-sh.js"></script>
      <script src="https://ezblock.cc/readDocFile/readTheDoc/src/js/monokai.js"></script>
      <script src="https://ezblock.cc/readDocFile/readTheDoc/src/js/xterm.js"></script>
      <script src="https://ezblock.cc/readDocFile/readTheDoc/src/js/FitAddon.js"></script>
      <script src="https://ezblock.cc/readDocFile/readTheDoc/src/js/readTheDocIndex.js"></script>
    <script src="../_static/js/theme.js"></script>
    <script src="../_static/js/versions.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="1.3.2 Servo" href="1.3.2_servo_js.html" />
    <link rel="prev" title="1.2.1 Active Buzzer" href="1.2.1_active_buzzer_js.html" /> 
<script async type="text/javascript" src="../../../../../_/static/javascript/readthedocs-addons.js"></script><meta name="readthedocs-project-slug" content="davinci-kit" /><meta name="readthedocs-version-slug" content="latest" /><meta name="readthedocs-resolver-filename" content="/nodejs/1.3.1_motor_js.html" /><meta name="readthedocs-http-status" content="200" /></head>

<body class="wy-body-for-nav">
<nav id="nav-bar">
  <ul class="nav-bar-items" id="nav-bar-items">
    <li class="nav-bar-logo">
      <a href="https://sunfounder.com">
        <img class="logo-img" src="https://ezblock.cc/readDocFile/sunfounder_LOGO_160x@2x.png"/>
      </a>
    </li>
  </ul>
</nav>

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            SunFounder davinci-kit-for-raspberry-pi
          </a>
              <div class="switch-menus">
                <div class="version-switch"></div>
                <div class="language-switch"></div>
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">About this Kit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../component_list.html">Component List</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gpio_extension_board.html">GPIO Extension Board</a></li>
<li class="toctree-l1"><a class="reference internal" href="../download_the_code.html">Download the Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install_setup_os/install_setup_os.html">Install and Setup Raspberry Pi OS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../for_pi5.html">For Pi 5</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../for_other_models.html">For Pi 4, 3, and All Other Pi Models</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../libraries.html">Libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../1_output.html">1 Output</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2_input.html">2 Input</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3_extension.html">3 Extension</a></li>
<li class="toctree-l2"><a class="reference internal" href="../processing/play_with_processing.html">Play with Processing</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="play_with_nodejs.html">Play with Nodejs</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="install_nodejs.html">What is NodejsÔºü</a></li>
<li class="toctree-l3"><a class="reference internal" href="check_pigpio.html">Check the pigpio</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="output_js.html">Output</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="output_js.html#displays">1.1 Displays</a></li>
<li class="toctree-l4"><a class="reference internal" href="output_js.html#sound">1.2 Sound</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="output_js.html#drivers">1.3 Drivers</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="input_js.html">Input</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../scratch/play_with_scratch.html">Play with Scratch</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../python_video/python_video.html">Python Video Course</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendix/appendix.html">Appendix</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../thank-learning.html">Thank You</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">SunFounder davinci-kit-for-raspberry-pi</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../for_other_models.html">For Pi 4, 3, and All Other Pi Models</a></li>
          <li class="breadcrumb-item"><a href="play_with_nodejs.html">Play with Nodejs</a></li>
          <li class="breadcrumb-item"><a href="output_js.html">Output</a></li>
      <li class="breadcrumb-item active">1.3.1 Motor</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/nodejs/1.3.1_motor_js.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="admonition note">
<p class="admonition-title">Note</p>
<p>Hello, welcome to the SunFounder Raspberry Pi &amp; Arduino &amp; ESP32 Enthusiasts Community on Facebook! Dive deeper into Raspberry Pi, Arduino, and ESP32 with fellow enthusiasts.</p>
<p><strong>Why Join?</strong></p>
<ul class="simple">
<li><p><strong>Expert Support</strong>: Solve post-sale issues and technical challenges with help from our community and team.</p></li>
<li><p><strong>Learn &amp; Share</strong>: Exchange tips and tutorials to enhance your skills.</p></li>
<li><p><strong>Exclusive Previews</strong>: Get early access to new product announcements and sneak peeks.</p></li>
<li><p><strong>Special Discounts</strong>: Enjoy exclusive discounts on our newest products.</p></li>
<li><p><strong>Festive Promotions and Giveaways</strong>: Take part in giveaways and holiday promotions.</p></li>
</ul>
<p>üëâ Ready to explore and create with us? Click [<a href="https://bit.ly/raphaelkit " target="_blank">here</a>] and join today!</p>
</div>
<section id="motor">
<h1>1.3.1 Motor<a class="headerlink" href="1.3.1_motor_js.html#motor" title="Link to this heading">ÔÉÅ</a></h1>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="1.3.1_motor_js.html#introduction" title="Link to this heading">ÔÉÅ</a></h2>
<p>In this project, we will learn to how to use L293D to drive a DC motor
and make it rotate clockwise and counterclockwise. Since the DC Motor
needs a larger current, for safety purpose, here we use the Power Supply
Module to supply motors.</p>
</section>
<section id="components">
<h2>Components<a class="headerlink" href="1.3.1_motor_js.html#components" title="Link to this heading">ÔÉÅ</a></h2>
<img alt="../_images/list_1.3.1.png" src="../_images/list_1.3.1.png" />
</section>
<section id="schematic-diagram">
<h2>Schematic Diagram<a class="headerlink" href="1.3.1_motor_js.html#schematic-diagram" title="Link to this heading">ÔÉÅ</a></h2>
<p>Plug the power supply module in breadboard, and insert the jumper cap to
pin of 5V, then it will output voltage of 5V. Connect pin 1 of L293D to
GPIO22, and set it as high level. Connect pin2 to GPIO27, and pin7 to
GPIO17, then set one pin high, while the other low. Thus you can change
the motor‚Äôs rotation direction.</p>
<img alt="../_images/image336.png" src="../_images/image336.png" />
<p><strong>Experimental Procedures</strong></p>
<p><strong>Step 1:</strong> Build the circuit.</p>
<img alt="../_images/image117.png" src="../_images/image117.png" />
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The power module can apply a 9V battery with the 9V Battery
Buckle in the kit. Insert the jumper cap of the power module into the 5V
bus strips of the breadboard.</p>
</div>
<img alt="../_images/image118.jpeg" src="../_images/image118.jpeg" />
<p><strong>Step 2</strong>: Go to the folder of the code.</p>
<run></run><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">~/</span><span class="n">davinci</span><span class="o">-</span><span class="n">kit</span><span class="o">-</span><span class="k">for</span><span class="o">-</span><span class="n">raspberry</span><span class="o">-</span><span class="n">pi</span><span class="o">/</span><span class="n">nodejs</span><span class="o">/</span>
</pre></div>
</div>
<p><strong>Step 4</strong>: Run the code.</p>
<run></run><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">node</span> <span class="n">motor</span><span class="o">.</span><span class="n">js</span>
</pre></div>
</div>
<p>As the code runs, the motor first rotates clockwise for 1s then stops for 1s,
after that, it rotates anticlockwise for 1s; subsequently, the motor stops
for 1s. This series of actions will be executed repeatedly.</p>
<p><strong>Code</strong></p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">const</span><span class="w"> </span><span class="nx">Gpio</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;pigpio&#39;</span><span class="p">).</span><span class="nx">Gpio</span><span class="p">;</span>

<span class="nx">MotorPin1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Gpio</span><span class="p">(</span><span class="mf">17</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">mode</span><span class="o">:</span><span class="w"> </span><span class="nx">Gpio</span><span class="p">.</span><span class="nx">OUTPUT</span><span class="w"> </span><span class="p">});</span>
<span class="nx">MotorPin2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Gpio</span><span class="p">(</span><span class="mf">27</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">mode</span><span class="o">:</span><span class="w"> </span><span class="nx">Gpio</span><span class="p">.</span><span class="nx">OUTPUT</span><span class="w"> </span><span class="p">});</span>
<span class="nx">MotorEnable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Gpio</span><span class="p">(</span><span class="mf">22</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">mode</span><span class="o">:</span><span class="w"> </span><span class="nx">Gpio</span><span class="p">.</span><span class="nx">OUTPUT</span><span class="w"> </span><span class="p">});</span>


<span class="c1">// Define a motor function to spin the motor</span>
<span class="c1">// direction should be</span>
<span class="c1">// 2(clockwise), 1(counterclockwise), 0(stop)</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">motor</span><span class="p">(</span><span class="nx">direction</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="nx">direction</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="mf">2</span><span class="o">:</span><span class="w"> </span><span class="c1">// Clockwise</span>
<span class="w">            </span><span class="c1">// Set direction</span>
<span class="w">            </span><span class="nx">MotorPin1</span><span class="p">.</span><span class="nx">digitalWrite</span><span class="p">(</span><span class="mf">1</span><span class="p">)</span>
<span class="w">            </span><span class="nx">MotorPin2</span><span class="p">.</span><span class="nx">digitalWrite</span><span class="p">(</span><span class="mf">0</span><span class="p">)</span>
<span class="w">            </span><span class="c1">// Enable the motor</span>
<span class="w">            </span><span class="nx">MotorEnable</span><span class="p">.</span><span class="nx">digitalWrite</span><span class="p">(</span><span class="mf">1</span><span class="p">)</span>
<span class="w">            </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Clockwise&#39;</span><span class="p">)</span>
<span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="mf">1</span><span class="o">:</span><span class="w">  </span><span class="c1">// Counterclockwise</span>
<span class="w">            </span><span class="c1">// Set direction</span>
<span class="w">            </span><span class="nx">MotorPin1</span><span class="p">.</span><span class="nx">digitalWrite</span><span class="p">(</span><span class="mf">0</span><span class="p">)</span>
<span class="w">            </span><span class="nx">MotorPin2</span><span class="p">.</span><span class="nx">digitalWrite</span><span class="p">(</span><span class="mf">1</span><span class="p">)</span>
<span class="w">            </span><span class="c1">// Enable the motor</span>
<span class="w">            </span><span class="nx">MotorEnable</span><span class="p">.</span><span class="nx">digitalWrite</span><span class="p">(</span><span class="mf">1</span><span class="p">)</span>
<span class="w">            </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Counterclockwise&#39;</span><span class="p">)</span>
<span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="mf">0</span><span class="o">:</span><span class="w"> </span><span class="c1">// Stop</span>
<span class="w">            </span><span class="c1">// Disable the motor</span>
<span class="w">            </span><span class="nx">MotorEnable</span><span class="p">.</span><span class="nx">digitalWrite</span><span class="p">(</span><span class="mf">0</span><span class="p">)</span>
<span class="w">            </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Stop&#39;</span><span class="p">)</span>

<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="nx">process</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;SIGINT&#39;</span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">MotorEnable</span><span class="p">.</span><span class="nx">digitalWrite</span><span class="p">(</span><span class="mf">0</span><span class="p">)</span>
<span class="w">    </span><span class="nx">process</span><span class="p">.</span><span class="nx">exit</span><span class="p">();</span>
<span class="p">})</span>

<span class="kd">let</span><span class="w"> </span><span class="nx">index</span><span class="o">=-</span><span class="mf">1</span>
<span class="nx">setInterval</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">index</span><span class="o">=</span><span class="p">(</span><span class="nx">index</span><span class="o">+</span><span class="mf">1</span><span class="p">)</span><span class="o">%</span><span class="mf">3</span>
<span class="w">    </span><span class="nx">motor</span><span class="p">(</span><span class="nx">index</span><span class="p">)</span>
<span class="p">},</span><span class="w"> </span><span class="mf">1000</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Code Explanation</strong></p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">MotorPin1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Gpio</span><span class="p">(</span><span class="mf">17</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">mode</span><span class="o">:</span><span class="w"> </span><span class="nx">Gpio</span><span class="p">.</span><span class="nx">OUTPUT</span><span class="w"> </span><span class="p">});</span>
<span class="nx">MotorPin2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Gpio</span><span class="p">(</span><span class="mf">27</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">mode</span><span class="o">:</span><span class="w"> </span><span class="nx">Gpio</span><span class="p">.</span><span class="nx">OUTPUT</span><span class="w"> </span><span class="p">});</span>
<span class="nx">MotorEnable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Gpio</span><span class="p">(</span><span class="mf">22</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">mode</span><span class="o">:</span><span class="w"> </span><span class="nx">Gpio</span><span class="p">.</span><span class="nx">OUTPUT</span><span class="w"> </span><span class="p">});</span>
</pre></div>
</div>
<p>Import the pigpio module and create three Gpio class objects to control the three IO ports of Gpio17, Gpio27, and Gpio22.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">function</span><span class="w"> </span><span class="nx">motor</span><span class="p">(</span><span class="nx">direction</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="nx">direction</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="mf">2</span><span class="o">:</span><span class="w"> </span><span class="c1">// Clockwise</span>
<span class="w">            </span><span class="c1">// Set direction</span>
<span class="w">            </span><span class="nx">MotorPin1</span><span class="p">.</span><span class="nx">digitalWrite</span><span class="p">(</span><span class="mf">1</span><span class="p">)</span>
<span class="w">            </span><span class="nx">MotorPin2</span><span class="p">.</span><span class="nx">digitalWrite</span><span class="p">(</span><span class="mf">0</span><span class="p">)</span>
<span class="w">            </span><span class="c1">// Enable the motor</span>
<span class="w">            </span><span class="nx">MotorEnable</span><span class="p">.</span><span class="nx">digitalWrite</span><span class="p">(</span><span class="mf">1</span><span class="p">)</span>
<span class="w">            </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Clockwise&#39;</span><span class="p">)</span>
<span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="mf">1</span><span class="o">:</span><span class="w">  </span><span class="c1">// Counterclockwise</span>
<span class="w">            </span><span class="c1">// Set direction</span>
<span class="w">            </span><span class="nx">MotorPin1</span><span class="p">.</span><span class="nx">digitalWrite</span><span class="p">(</span><span class="mf">0</span><span class="p">)</span>
<span class="w">            </span><span class="nx">MotorPin2</span><span class="p">.</span><span class="nx">digitalWrite</span><span class="p">(</span><span class="mf">1</span><span class="p">)</span>
<span class="w">            </span><span class="c1">// Enable the motor</span>
<span class="w">            </span><span class="nx">MotorEnable</span><span class="p">.</span><span class="nx">digitalWrite</span><span class="p">(</span><span class="mf">1</span><span class="p">)</span>
<span class="w">            </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Counterclockwise&#39;</span><span class="p">)</span>
<span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="mf">0</span><span class="o">:</span><span class="w"> </span><span class="c1">// Stop</span>
<span class="w">            </span><span class="c1">// Disable the motor</span>
<span class="w">            </span><span class="nx">MotorEnable</span><span class="p">.</span><span class="nx">digitalWrite</span><span class="p">(</span><span class="mf">0</span><span class="p">)</span>
<span class="w">            </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Stop&#39;</span><span class="p">)</span>

<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Define a motor() function to control the motor,</p>
<ol class="arabic simple">
<li><p>When the direction is equal to 2, the MotorPin1 port writes a high level, the MotorPin2 port writes a low level, and the enable port MotorEnable writes a high level, and the motor rotates clockwise.</p></li>
<li><p>When the direction is equal to 1, the MotorPin1 port writes a low level, the MotorPin2 port writes a high level, and the enable port MotorEnable writes a high level, and the motor rotates counterclockwise.</p></li>
<li><p>When the direction is equal to 0, the enable port MotorEnable is written to a low level, and the motor stops rotating.</p></li>
</ol>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">let</span><span class="w"> </span><span class="nx">index</span><span class="o">=-</span><span class="mf">1</span>
<span class="nx">setInterval</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">index</span><span class="o">=</span><span class="p">(</span><span class="nx">index</span><span class="o">+</span><span class="mf">1</span><span class="p">)</span><span class="o">%</span><span class="mf">3</span>
<span class="w">    </span><span class="nx">motor</span><span class="p">(</span><span class="nx">index</span><span class="p">)</span>
<span class="p">},</span><span class="w"> </span><span class="mf">1000</span><span class="p">)</span>
</pre></div>
</div>
<p>Let the motor rotate clockwise and counterclockwise alternately, with an interval of 1 second.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">process</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;SIGINT&#39;</span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">MotorEnable</span><span class="p">.</span><span class="nx">digitalWrite</span><span class="p">(</span><span class="mf">0</span><span class="p">)</span>
<span class="w">    </span><span class="nx">process</span><span class="p">.</span><span class="nx">exit</span><span class="p">();</span>
<span class="p">})</span>
</pre></div>
</div>
<p>When it is detected that <strong>ctrl+c is</strong> pressed,
MotorEnable is written low to stop the motor from spinning.</p>
</section>
<section id="phenomenon-picture">
<h2>Phenomenon Picture<a class="headerlink" href="1.3.1_motor_js.html#phenomenon-picture" title="Link to this heading">ÔÉÅ</a></h2>
<img alt="../_images/image119.jpeg" src="../_images/image119.jpeg" />
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="1.2.1_active_buzzer_js.html" class="btn btn-neutral float-left" title="1.2.1 Active Buzzer" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="1.3.2_servo_js.html" class="btn btn-neutral float-right" title="1.3.2 Servo" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, SunFounder.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>