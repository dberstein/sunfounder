

<!DOCTYPE html>
<html class="writer-html5" lang="de" data-content_root="../">
<head>
  <meta charset="utf-8" />
  <meta name="readthedocs-addons-api-version" content="1"><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>1.1.4 7-Segment-Anzeige &mdash; SunFounder davinci-kit-for-raspberry-pi  Dokumentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css%3Fv=80d5e7a1.css" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css%3Fv=e59714d7.css" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css%3Fv=76b2166b.css" />
      <link rel="stylesheet" type="text/css" href="https://ezblock.cc/readDocFile/custom.css" />
      <link rel="stylesheet" type="text/css" href="https://ezblock.cc/readDocFile/readTheDoc/src/css/index.css" />
      <link rel="stylesheet" type="text/css" href="https://ezblock.cc/readDocFile/readTheDoc/src/css/xterm.css" />

  
      <script src="../_static/jquery.js%3Fv=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js%3Fv=2cd50e6c"></script>
      <script src="../_static/documentation_options.js%3Fv=245627df"></script>
      <script src="../_static/doctools.js%3Fv=9a2dae69"></script>
      <script src="../_static/sphinx_highlight.js%3Fv=dc90522c"></script>
      <script src="../_static/clipboard.min.js%3Fv=a7894cd8"></script>
      <script src="../_static/copybutton.js%3Fv=f281be69"></script>
      <script src="../_static/translations.js%3Fv=70a09b52"></script>
      <script src="https://ezblock.cc/readDocFile/custom.js"></script>
      <script src="https://docs.sunfounder.com/projects/davinci-kit/de/latest/_static/lang.js"></script>
      <script src="https://ezblock.cc/readDocFile/readTheDoc/src/js/ace.js"></script>
      <script src="https://ezblock.cc/readDocFile/readTheDoc/src/js/ext-language_tools.js"></script>
      <script src="https://ezblock.cc/readDocFile/readTheDoc/src/js/theme-chrome.js"></script>
      <script src="https://ezblock.cc/readDocFile/readTheDoc/src/js/mode-python.js"></script>
      <script src="https://ezblock.cc/readDocFile/readTheDoc/src/js/mode-sh.js"></script>
      <script src="https://ezblock.cc/readDocFile/readTheDoc/src/js/monokai.js"></script>
      <script src="https://ezblock.cc/readDocFile/readTheDoc/src/js/xterm.js"></script>
      <script src="https://ezblock.cc/readDocFile/readTheDoc/src/js/FitAddon.js"></script>
      <script src="https://ezblock.cc/readDocFile/readTheDoc/src/js/readTheDocIndex.js"></script>
    <script src="../_static/js/theme.js"></script>
    <script src="../_static/js/versions.js"></script>
    <link rel="index" title="Stichwortverzeichnis" href="../genindex.html" />
    <link rel="search" title="Suche" href="../search.html" />
    <link rel="next" title="1.1.5 4-stellige 7-Segment-Anzeige" href="pi5_1.1.5_4-Digit_7-segment_display_python.html" />
    <link rel="prev" title="1.1.3 LED-Balkendiagramm" href="pi5_1.1.3_led_bar_graph_python.html" /> 
<script async type="text/javascript" src="../../../../../_/static/javascript/readthedocs-addons.js"></script><meta name="readthedocs-project-slug" content="davinci-kit-de" /><meta name="readthedocs-version-slug" content="latest" /><meta name="readthedocs-resolver-filename" content="/python_pi5/pi5_1.1.4_7-segment_display_python.html" /><meta name="readthedocs-http-status" content="200" /></head>

<body class="wy-body-for-nav">
<nav id="nav-bar">
  <ul class="nav-bar-items" id="nav-bar-items">
    <li class="nav-bar-logo">
      <a href="https://sunfounder.com">
        <img class="logo-img" src="https://ezblock.cc/readDocFile/sunfounder_LOGO_160x@2x.png"/>
      </a>
    </li>
  </ul>
</nav>

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            SunFounder davinci-kit-for-raspberry-pi
          </a>
              <div class="switch-menus">
                <div class="version-switch"></div>
                <div class="language-switch"></div>
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Dokumentation durchsuchen" aria-label="Dokumentation durchsuchen" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">About this Kit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../component_list.html">Komponentenliste</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gpio_extension_board.html">GPIO-Erweiterungskarte</a></li>
<li class="toctree-l1"><a class="reference internal" href="../download_the_code.html">Laden Sie die Kode herunter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install_setup_os/preparation.html">Installation und Einrichtung des Raspberry Pi OS</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../for_pi5.html">Für Pi 5</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="play_with_python_pi5.html">Spielen Sie mit Python</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="check_the_gpiozero_python.html">Überprüfen Sie <code class="docutils literal notranslate"><span class="pre">GPIO</span> <span class="pre">Zero</span></code></a></li>
<li class="toctree-l3 current"><a class="reference internal" href="pi5_output_python.html">1 Ausgabe</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="pi5_1.1.1_blinking_led_python.html">1.1.1 Blinkende LED</a></li>
<li class="toctree-l4"><a class="reference internal" href="pi5_1.1.2_rgb_led_python.html">1.1.2 RGB-LED</a></li>
<li class="toctree-l4"><a class="reference internal" href="pi5_1.1.3_led_bar_graph_python.html">1.1.3 LED-Balkendiagramm</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="pi5_1.1.4_7-segment_display_python.html#">1.1.4 7-Segment-Anzeige</a></li>
<li class="toctree-l4"><a class="reference internal" href="pi5_1.1.5_4-Digit_7-segment_display_python.html">1.1.5 4-stellige 7-Segment-Anzeige</a></li>
<li class="toctree-l4"><a class="reference internal" href="pi5_1.1.6_led_dot_matrix_python.html">1.1.6 LED-Punktmatrix</a></li>
<li class="toctree-l4"><a class="reference internal" href="pi5_1.1.7_i2c_lcd1602_python.html">1.1.7 I2C LCD1602</a></li>
<li class="toctree-l4"><a class="reference internal" href="pi5_1.2.1_active_buzzer_python.html">1.2.1 Aktiver Summer</a></li>
<li class="toctree-l4"><a class="reference internal" href="pi5_1.2.2_passive_buzzer_python.html">1.2.2 Passiver Summer</a></li>
<li class="toctree-l4"><a class="reference internal" href="pi5_1.3.1_motor_python.html">1.3.1 Motor</a></li>
<li class="toctree-l4"><a class="reference internal" href="pi5_1.3.2_servo_python.html">1.3.2 Servo</a></li>
<li class="toctree-l4"><a class="reference internal" href="pi5_1.3.3_stepper_motor_python.html">1.3.3 Schrittmotor</a></li>
<li class="toctree-l4"><a class="reference internal" href="pi5_1.3.4_relay_python.html">1.3.4 Relais</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="pi5_input_python.html">2 Eingabe</a></li>
<li class="toctree-l3"><a class="reference internal" href="pi5_extension_python.html">3 Erweiterung</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../c_pi5/play_with_c.html">Spielen Sie mit C</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scratch_pi5/play_with_scratch.html">Spielen mit Scratch</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../for_other_models.html">Für Pi 4, 3 und alle anderen Pi-Modelle</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python_video/python_video.html">Python Videokurs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendix/appendix.html">Anhang</a></li>
<li class="toctree-l1"><a class="reference internal" href="../thank-learning.html">Thank You</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">FAQ</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">SunFounder davinci-kit-for-raspberry-pi</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../for_pi5.html">Für Pi 5</a></li>
          <li class="breadcrumb-item"><a href="play_with_python_pi5.html">Spielen Sie mit Python</a></li>
          <li class="breadcrumb-item"><a href="pi5_output_python.html">1 Ausgabe</a></li>
      <li class="breadcrumb-item active">1.1.4 7-Segment-Anzeige</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/python_pi5/pi5_1.1.4_7-segment_display_python.rst.txt" rel="nofollow"> Quelltext anzeigen</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="admonition note">
<p class="admonition-title">Bemerkung</p>
<p>Hallo und willkommen in der SunFounder Raspberry Pi &amp; Arduino &amp; ESP32 Enthusiasten-Gemeinschaft auf Facebook! Tauchen Sie tiefer ein in die Welt von Raspberry Pi, Arduino und ESP32 mit anderen Enthusiasten.</p>
<p><strong>Warum beitreten?</strong></p>
<ul class="simple">
<li><p><strong>Expertenunterstützung</strong>: Lösen Sie Nachverkaufsprobleme und technische Herausforderungen mit Hilfe unserer Gemeinschaft und unseres Teams.</p></li>
<li><p><strong>Lernen &amp; Teilen</strong>: Tauschen Sie Tipps und Anleitungen aus, um Ihre Fähigkeiten zu verbessern.</p></li>
<li><p><strong>Exklusive Vorschauen</strong>: Erhalten Sie frühzeitigen Zugang zu neuen Produktankündigungen und exklusiven Einblicken.</p></li>
<li><p><strong>Spezialrabatte</strong>: Genießen Sie exklusive Rabatte auf unsere neuesten Produkte.</p></li>
<li><p><strong>Festliche Aktionen und Gewinnspiele</strong>: Nehmen Sie an Gewinnspielen und Feiertagsaktionen teil.</p></li>
</ul>
<p>👉 Sind Sie bereit, mit uns zu erkunden und zu erschaffen? Klicken Sie auf [<a href="https://bit.ly/raphaelkit " target="_blank">hier</a>] und treten Sie heute bei!</p>
</div>
<section id="segment-anzeige">
<span id="py-pi5"></span><h1>1.1.4 7-Segment-Anzeige<a class="headerlink" href="pi5_1.1.4_7-segment_display_python.html#segment-anzeige" title="Link to this heading"></a></h1>
<section id="einfuhrung">
<h2>Einführung<a class="headerlink" href="pi5_1.1.4_7-segment_display_python.html#einfuhrung" title="Link to this heading"></a></h2>
<p>Lassen Sie uns versuchen, eine 7-Segment-Anzeige anzusteuern, um Ziffern von 0 bis 9 und
Buchstaben von A bis F anzuzeigen.</p>
</section>
<section id="benotigte-komponenten">
<h2>Benötigte Komponenten<a class="headerlink" href="pi5_1.1.4_7-segment_display_python.html#benotigte-komponenten" title="Link to this heading"></a></h2>
<p>Für dieses Projekt benötigen wir die folgenden Komponenten.</p>
<img alt="../_images/1.1.4_7_segment_list.png" src="../_images/1.1.4_7_segment_list.png" />
</section>
<section id="schaltplan">
<h2>Schaltplan<a class="headerlink" href="pi5_1.1.4_7-segment_display_python.html#schaltplan" title="Link to this heading"></a></h2>
<p>Verbinden Sie den Pin ST_CP des 74HC595 mit dem GPIO18 des Raspberry Pi, SH_CP mit GPIO27, DS
mit GPIO17, parallele Ausgangsports mit den 8 Segmenten der LED-Segment-
Anzeige.</p>
<p>Daten werden in den DS-Pin eingegeben und beim Anstieg von SH_CP (dem Takt-
eingang des Schieberegisters) in das Schieberegister und beim Anstieg von ST_CP (dem Takt-
eingang des Speichers) in das Speicherregister übertragen.</p>
<p>Dann können Sie die Zustände von SH_CP und ST_CP über die
GPIOs des Raspberry Pi steuern, um serielle Dateneingaben in parallele Daten-
ausgaben umzuwandeln, um GPIOs des Raspberry Pi zu sparen und die Anzeige anzusteuern.</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>T-Board Name</p></td>
<td><p>physical</p></td>
<td><p>BCM</p></td>
</tr>
<tr class="row-even"><td><p>GPIO17</p></td>
<td><p>Pin 11</p></td>
<td><p>17</p></td>
</tr>
<tr class="row-odd"><td><p>GPIO18</p></td>
<td><p>Pin 12</p></td>
<td><p>18</p></td>
</tr>
<tr class="row-even"><td><p>GPIO27</p></td>
<td><p>Pin 13</p></td>
<td><p>27</p></td>
</tr>
</tbody>
</table>
<img alt="../_images/1.1.4_7_segment_schematic.png" src="../_images/1.1.4_7_segment_schematic.png" />
</section>
<section id="experimentelle-verfahren">
<h2>Experimentelle Verfahren<a class="headerlink" href="pi5_1.1.4_7-segment_display_python.html#experimentelle-verfahren" title="Link to this heading"></a></h2>
<p><strong>Schritt 1:</strong> Bauen Sie den Schaltkreis auf.</p>
<img alt="../_images/1.1.4_7-Segment_circuit.png" src="../_images/1.1.4_7-Segment_circuit.png" />
<p><strong>Schritt 2:</strong> Wechseln Sie in den Ordner des Codes.</p>
<run></run><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">~/</span><span class="n">davinci</span><span class="o">-</span><span class="n">kit</span><span class="o">-</span><span class="k">for</span><span class="o">-</span><span class="n">raspberry</span><span class="o">-</span><span class="n">pi</span><span class="o">/</span><span class="n">python</span><span class="o">-</span><span class="n">pi5</span>
</pre></div>
</div>
<p><strong>Schritt 3:</strong> Führen Sie das Programm aus.</p>
<run></run><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">python3</span> <span class="mf">1.1.4_7</span><span class="o">-</span><span class="n">Segment_zero</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>Nachdem der Code ausgeführt wurde, sehen Sie, dass die 7-Segment-Anzeige 0-9, A-F anzeigt.</p>
<div class="admonition warning">
<p class="admonition-title">Warnung</p>
<p>Wenn die Fehlermeldung <code class="docutils literal notranslate"><span class="pre">RuntimeError:</span> <span class="pre">Cannot</span> <span class="pre">determine</span> <span class="pre">SOC</span> <span class="pre">peripheral</span> <span class="pre">base</span> <span class="pre">address</span></code> angezeigt wird, lesen Sie bitte <a class="reference internal" href="../faq.html#faq-soc"><span class="std std-ref">Wenn gpiozero nicht funktioniert.</span></a></p>
</div>
<p><strong>Code</strong></p>
<div class="admonition note">
<p class="admonition-title">Bemerkung</p>
<p>Sie können den unten stehenden Code <strong>Modifizieren/Zurücksetzen/Kopieren/Ausführen/Stoppen</strong>. Aber bevor Sie das tun, müssen Sie zum Quellcode-Pfad wie <code class="docutils literal notranslate"><span class="pre">davinci-kit-for-raspberry-pi/python-pi5</span></code> gehen. Nachdem Sie den Code geändert haben, können Sie ihn direkt ausführen, um die Auswirkungen zu sehen. Nachdem Sie bestätigt haben, dass keine Probleme vorliegen, können Sie den geänderten Code mit der Kopieren-Schaltfläche kopieren, dann den Quellcode im Terminal über den Befehl <code class="docutils literal notranslate"><span class="pre">nano</span></code> öffnen und einfügen.</p>
</div>
<run></run><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env python3</span>
<span class="kn">from</span> <span class="nn">gpiozero</span> <span class="kn">import</span> <span class="n">OutputDevice</span>
<span class="kn">from</span> <span class="nn">time</span> <span class="kn">import</span> <span class="n">sleep</span>

<span class="c1"># GPIO-Pins, die mit dem 74HC595 Schieberegister verbunden sind</span>
<span class="n">SDI</span> <span class="o">=</span> <span class="n">OutputDevice</span><span class="p">(</span><span class="mi">17</span><span class="p">)</span>   <span class="c1"># Serieller Dateneingang</span>
<span class="n">RCLK</span> <span class="o">=</span> <span class="n">OutputDevice</span><span class="p">(</span><span class="mi">18</span><span class="p">)</span>  <span class="c1"># Speichertakteingang (Register Clock)</span>
<span class="n">SRCLK</span> <span class="o">=</span> <span class="n">OutputDevice</span><span class="p">(</span><span class="mi">27</span><span class="p">)</span> <span class="c1"># Schieberegistertakt</span>

<span class="c1"># Hexadezimale Zifferncodes für eine gemeinsame Kathoden-7-Segment-Anzeige</span>
<span class="n">segCode</span> <span class="o">=</span> <span class="p">[</span>
    <span class="mh">0x3f</span><span class="p">,</span> <span class="mh">0x06</span><span class="p">,</span> <span class="mh">0x5b</span><span class="p">,</span> <span class="mh">0x4f</span><span class="p">,</span> <span class="mh">0x66</span><span class="p">,</span> <span class="mh">0x6d</span><span class="p">,</span> <span class="mh">0x7d</span><span class="p">,</span>
    <span class="mh">0x07</span><span class="p">,</span> <span class="mh">0x7f</span><span class="p">,</span> <span class="mh">0x6f</span><span class="p">,</span> <span class="mh">0x77</span><span class="p">,</span> <span class="mh">0x7c</span><span class="p">,</span> <span class="mh">0x39</span><span class="p">,</span> <span class="mh">0x5e</span><span class="p">,</span> <span class="mh">0x79</span><span class="p">,</span> <span class="mh">0x71</span>
<span class="p">]</span>

<span class="k">def</span> <span class="nf">hc595_shift</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
    <span class="c1"># 8 Bits Daten in den 74HC595 schieben</span>
    <span class="k">for</span> <span class="n">bit</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">):</span>
        <span class="c1"># SDI auf hoch oder niedrig setzen, abhängig vom Datenbit</span>
        <span class="n">SDI</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="mh">0x80</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">data</span> <span class="o">&lt;&lt;</span> <span class="n">bit</span><span class="p">)</span>
        <span class="c1"># Schieberegistertakt auslösen</span>
        <span class="n">SRCLK</span><span class="o">.</span><span class="n">on</span><span class="p">()</span>
        <span class="n">sleep</span><span class="p">(</span><span class="mf">0.001</span><span class="p">)</span>
        <span class="n">SRCLK</span><span class="o">.</span><span class="n">off</span><span class="p">()</span>
    <span class="c1"># Daten durch Auslösen des Speichertakts in die Ausgabe übernehmen</span>
    <span class="n">RCLK</span><span class="o">.</span><span class="n">on</span><span class="p">()</span>
    <span class="n">sleep</span><span class="p">(</span><span class="mf">0.001</span><span class="p">)</span>
    <span class="n">RCLK</span><span class="o">.</span><span class="n">off</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">display_all_on</span><span class="p">():</span>
    <span class="c1"># Funktion, um alle Segmente einzuschalten (für gemeinsame Kathoden-7-Segment-Anzeige)</span>
    <span class="n">all_on_code</span> <span class="o">=</span> <span class="mh">0x3f</span>
    <span class="n">hc595_shift</span><span class="p">(</span><span class="n">all_on_code</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Alle Segmente eingeschaltet&quot;</span><span class="p">)</span>

<span class="k">try</span><span class="p">:</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="c1"># Jede hexadezimale Ziffer auf der 7-Segment-Anzeige anzeigen</span>
        <span class="k">for</span> <span class="n">code</span> <span class="ow">in</span> <span class="n">segCode</span><span class="p">:</span>
            <span class="n">hc595_shift</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>  <span class="c1"># Den Code in den 74HC595 schieben</span>
            <span class="c1"># Den angezeigten Segmentcode ausgeben</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Anzeige segCode[</span><span class="si">{</span><span class="n">segCode</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">code</span><span class="p">)</span><span class="si">}</span><span class="s2">]: 0x</span><span class="si">{</span><span class="n">code</span><span class="si">:</span><span class="s2">02X</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">sleep</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>  <span class="c1"># Pause zwischen der Anzeige jeder Ziffer</span>

<span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
    <span class="c1"># Skriptunterbrechung (z. B. Ctrl+C) elegant behandeln</span>
    <span class="k">pass</span>
</pre></div>
</div>
<p><strong>Code-Erklärung</strong></p>
<ol class="arabic">
<li><p>Dieser Ausschnitt importiert die notwendigen Klassen für das Projekt. <code class="docutils literal notranslate"><span class="pre">OutputDevice</span></code> aus <code class="docutils literal notranslate"><span class="pre">gpiozero</span></code> wird verwendet, um Hardwarekomponenten, die mit GPIO-Pins verbunden sind, zu steuern, und <code class="docutils literal notranslate"><span class="pre">sleep</span></code> aus <code class="docutils literal notranslate"><span class="pre">time</span></code> für Verzögerungen.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env python3</span>
<span class="kn">from</span> <span class="nn">gpiozero</span> <span class="kn">import</span> <span class="n">OutputDevice</span>
<span class="kn">from</span> <span class="nn">time</span> <span class="kn">import</span> <span class="n">sleep</span>
</pre></div>
</div>
</li>
<li><p>SDI, RCLK und SRCLK entsprechen den Pins für den seriellen Dateneingang, den Speichertakteingang (Register Clock) und den Schieberegistertakt des 74HC595.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># GPIO-Pins, die mit dem 74HC595 Schieberegister verbunden sind</span>
<span class="n">SDI</span> <span class="o">=</span> <span class="n">OutputDevice</span><span class="p">(</span><span class="mi">17</span><span class="p">)</span>   <span class="c1"># Serieller Dateneingang</span>
<span class="n">RCLK</span> <span class="o">=</span> <span class="n">OutputDevice</span><span class="p">(</span><span class="mi">18</span><span class="p">)</span>  <span class="c1"># Speichertakteingang (Register Clock)</span>
<span class="n">SRCLK</span> <span class="o">=</span> <span class="n">OutputDevice</span><span class="p">(</span><span class="mi">27</span><span class="p">)</span> <span class="c1"># Schieberegistertakt</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">segCode</span></code> ist ein Array, das hexadezimale Codes für jede auf der 7-Segment-Anzeige darzustellende Ziffer enthält.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Hexadezimale Zifferncodes für eine gemeinsame Kathoden-7-Segment-Anzeige</span>
<span class="n">segCode</span> <span class="o">=</span> <span class="p">[</span>
    <span class="mh">0x3f</span><span class="p">,</span> <span class="mh">0x06</span><span class="p">,</span> <span class="mh">0x5b</span><span class="p">,</span> <span class="mh">0x4f</span><span class="p">,</span> <span class="mh">0x66</span><span class="p">,</span> <span class="mh">0x6d</span><span class="p">,</span> <span class="mh">0x7d</span><span class="p">,</span>
    <span class="mh">0x07</span><span class="p">,</span> <span class="mh">0x7f</span><span class="p">,</span> <span class="mh">0x6f</span><span class="p">,</span> <span class="mh">0x77</span><span class="p">,</span> <span class="mh">0x7c</span><span class="p">,</span> <span class="mh">0x39</span><span class="p">,</span> <span class="mh">0x5e</span><span class="p">,</span> <span class="mh">0x79</span><span class="p">,</span> <span class="mh">0x71</span>
<span class="p">]</span>
</pre></div>
</div>
</li>
<li><p>Diese Funktion schiebt 8 Bits Daten in den 74HC595. Jedes Bit wird seriell in <code class="docutils literal notranslate"><span class="pre">SDI</span></code> eingegeben, <code class="docutils literal notranslate"><span class="pre">SRCLK</span></code> wird umgeschaltet, um das Bit zu verschieben, und <code class="docutils literal notranslate"><span class="pre">RCLK</span></code> wird verwendet, um die Daten an den Ausgang zu übertragen.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">hc595_shift</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
    <span class="c1"># 8 Bits Daten in den 74HC595 schieben</span>
    <span class="k">for</span> <span class="n">bit</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">):</span>
        <span class="c1"># SDI auf hoch oder niedrig setzen, abhängig vom Datenbit</span>
        <span class="n">SDI</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="mh">0x80</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">data</span> <span class="o">&lt;&lt;</span> <span class="n">bit</span><span class="p">)</span>
        <span class="c1"># Schieberegistertakt auslösen</span>
        <span class="n">SRCLK</span><span class="o">.</span><span class="n">on</span><span class="p">()</span>
        <span class="n">sleep</span><span class="p">(</span><span class="mf">0.001</span><span class="p">)</span>
        <span class="n">SRCLK</span><span class="o">.</span><span class="n">off</span><span class="p">()</span>
    <span class="c1"># Daten durch Auslösen des Speichertakts in die Ausgabe übernehmen</span>
    <span class="n">RCLK</span><span class="o">.</span><span class="n">on</span><span class="p">()</span>
    <span class="n">sleep</span><span class="p">(</span><span class="mf">0.001</span><span class="p">)</span>
    <span class="n">RCLK</span><span class="o">.</span><span class="n">off</span><span class="p">()</span>
</pre></div>
</div>
</li>
<li><p>Diese Funktion schaltet alle Segmente der Anzeige ein, indem sie einen spezifischen Code an <code class="docutils literal notranslate"><span class="pre">hc595_shift</span></code> sendet.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">display_all_on</span><span class="p">():</span>
    <span class="c1"># Funktion, um alle Segmente einzuschalten (für gemeinsame Kathoden-7-Segment-Anzeige)</span>
    <span class="n">all_on_code</span> <span class="o">=</span> <span class="mh">0x3f</span>
    <span class="n">hc595_shift</span><span class="p">(</span><span class="n">all_on_code</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Alle Segmente eingeschaltet&quot;</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>In der Hauptschleife wird jeder Code in <code class="docutils literal notranslate"><span class="pre">segCode</span></code> nacheinander an die Anzeige gesendet, mit einer Verzögerung zwischen jedem.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="c1"># Jede hexadezimale Ziffer auf der 7-Segment-Anzeige anzeigen</span>
        <span class="k">for</span> <span class="n">code</span> <span class="ow">in</span> <span class="n">segCode</span><span class="p">:</span>
            <span class="n">hc595_shift</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>  <span class="c1"># Den Code in den 74HC595 schieben</span>
            <span class="c1"># Den angezeigten Segmentcode ausgeben</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Anzeige segCode[</span><span class="si">{</span><span class="n">segCode</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">code</span><span class="p">)</span><span class="si">}</span><span class="s2">]: 0x</span><span class="si">{</span><span class="n">code</span><span class="si">:</span><span class="s2">02X</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">sleep</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>  <span class="c1"># Pause zwischen der Anzeige jeder Ziffer</span>
</pre></div>
</div>
</li>
<li><p>Dieser Teil des Codes behandelt die Unterbrechung des Skripts (wie Ctrl+C) auf elegante Weise.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
    <span class="c1"># Skriptunterbrechung (z. B. Ctrl+C) elegant behandeln</span>
    <span class="k">pass</span>
</pre></div>
</div>
</li>
</ol>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="pi5_1.1.3_led_bar_graph_python.html" class="btn btn-neutral float-left" title="1.1.3 LED-Balkendiagramm" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Zurück</a>
        <a href="pi5_1.1.5_4-Digit_7-segment_display_python.html" class="btn btn-neutral float-right" title="1.1.5 4-stellige 7-Segment-Anzeige" accesskey="n" rel="next">Weiter <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025 SunFounder.</p>
  </div>

  Erstellt mit <a href="https://www.sphinx-doc.org/">Sphinx</a> mit einem
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    bereitgestellt von <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>