

<!DOCTYPE html>
<html class="writer-html5" lang="es" data-content_root="../">
<head>
  <meta charset="utf-8" />
  <meta name="readthedocs-addons-api-version" content="1"><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>1.1.2 LED RGB &mdash; documentaci√≥n de SunFounder davinci-kit-for-raspberry-pi - </title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css%3Fv=80d5e7a1.css" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css%3Fv=e59714d7.css" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css%3Fv=76b2166b.css" />
      <link rel="stylesheet" type="text/css" href="https://ezblock.cc/readDocFile/custom.css" />
      <link rel="stylesheet" type="text/css" href="https://ezblock.cc/readDocFile/readTheDoc/src/css/index.css" />
      <link rel="stylesheet" type="text/css" href="https://ezblock.cc/readDocFile/readTheDoc/src/css/xterm.css" />

  
      <script src="../_static/jquery.js%3Fv=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js%3Fv=2cd50e6c"></script>
      <script src="../_static/documentation_options.js%3Fv=e2bb6099"></script>
      <script src="../_static/doctools.js%3Fv=9a2dae69"></script>
      <script src="../_static/sphinx_highlight.js%3Fv=dc90522c"></script>
      <script src="../_static/clipboard.min.js%3Fv=a7894cd8"></script>
      <script src="../_static/copybutton.js%3Fv=f281be69"></script>
      <script src="../_static/translations.js%3Fv=efdbd0b9"></script>
      <script src="https://ezblock.cc/readDocFile/custom.js"></script>
      <script src="https://docs.sunfounder.com/projects/davinci-kit/es/latest/_static/lang.js"></script>
      <script src="https://ezblock.cc/readDocFile/readTheDoc/src/js/ace.js"></script>
      <script src="https://ezblock.cc/readDocFile/readTheDoc/src/js/ext-language_tools.js"></script>
      <script src="https://ezblock.cc/readDocFile/readTheDoc/src/js/theme-chrome.js"></script>
      <script src="https://ezblock.cc/readDocFile/readTheDoc/src/js/mode-python.js"></script>
      <script src="https://ezblock.cc/readDocFile/readTheDoc/src/js/mode-sh.js"></script>
      <script src="https://ezblock.cc/readDocFile/readTheDoc/src/js/monokai.js"></script>
      <script src="https://ezblock.cc/readDocFile/readTheDoc/src/js/xterm.js"></script>
      <script src="https://ezblock.cc/readDocFile/readTheDoc/src/js/FitAddon.js"></script>
      <script src="https://ezblock.cc/readDocFile/readTheDoc/src/js/readTheDocIndex.js"></script>
    <script src="../_static/js/theme.js"></script>
    <script src="../_static/js/versions.js"></script>
    <link rel="index" title="√çndice" href="../genindex.html" />
    <link rel="search" title="B√∫squeda" href="../search.html" />
    <link rel="next" title="1.1.3 LED de Barra" href="1.1.3_led_bar_graph.html" />
    <link rel="prev" title="1.1.1 LED parpadeante" href="1.1.1_blinking_led.html" /> 
<script async type="text/javascript" src="../../../../../_/static/javascript/readthedocs-addons.js"></script><meta name="readthedocs-project-slug" content="davinci-kit-es" /><meta name="readthedocs-version-slug" content="latest" /><meta name="readthedocs-resolver-filename" content="/c_pi5/1.1.2_rgb_led.html" /><meta name="readthedocs-http-status" content="200" /></head>

<body class="wy-body-for-nav">
<nav id="nav-bar">
  <ul class="nav-bar-items" id="nav-bar-items">
    <li class="nav-bar-logo">
      <a href="https://sunfounder.com">
        <img class="logo-img" src="https://ezblock.cc/readDocFile/sunfounder_LOGO_160x@2x.png"/>
      </a>
    </li>
  </ul>
</nav>

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            SunFounder davinci-kit-for-raspberry-pi
          </a>
              <div class="switch-menus">
                <div class="version-switch"></div>
                <div class="language-switch"></div>
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Buscar documentos" aria-label="Buscar documentos" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">About this Kit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../component_list.html">Lista de Componentes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gpio_extension_board.html">Tarjeta de Extensi√≥n GPIO</a></li>
<li class="toctree-l1"><a class="reference internal" href="../download_the_code.html">Descarga el C√≥digo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install_setup_os/install_setup_os.html">Instalar y Configurar Raspberry Pi OS</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../for_pi5.html">Para Pi 5</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../python_pi5/play_with_python_pi5.html">Juega con Python</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="play_with_c.html">Play with C</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="check_the_wiringpi_c.html">Instalar y Verificar WiringPi</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="1_output.html">1 Salida</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="1.1.1_blinking_led.html">1.1.1 LED parpadeante</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="1.1.2_rgb_led.html#">1.1.2 LED RGB</a></li>
<li class="toctree-l4"><a class="reference internal" href="1.1.3_led_bar_graph.html">1.1.3 LED de Barra</a></li>
<li class="toctree-l4"><a class="reference internal" href="1.1.4_7-segment_display.html">1.1.4 Pantalla de 7 Segmentos</a></li>
<li class="toctree-l4"><a class="reference internal" href="1.1.5_4-Digit_7-segment_display.html">1.1.5 Pantalla de 7 Segmentos de 4 D√≠gitos</a></li>
<li class="toctree-l4"><a class="reference internal" href="1.1.6_led_dot_matrix.html">1.1.6 Matriz de Puntos LED</a></li>
<li class="toctree-l4"><a class="reference internal" href="1.1.7_i2c_lcd1602.html">1.1.7 LCD1602 I2C</a></li>
<li class="toctree-l4"><a class="reference internal" href="1.2.1_active_buzzer.html">1.2.1 Zumbador Activo</a></li>
<li class="toctree-l4"><a class="reference internal" href="1.2.2_passive_buzzer.html">1.2.2 Zumbador Pasivo</a></li>
<li class="toctree-l4"><a class="reference internal" href="1.3.1_motor.html">1.3.1 Motor</a></li>
<li class="toctree-l4"><a class="reference internal" href="1.3.2_servo.html">1.3.2 Servo</a></li>
<li class="toctree-l4"><a class="reference internal" href="1.3.3_stepper_motor.html">1.3.3 Motor Paso a Paso</a></li>
<li class="toctree-l4"><a class="reference internal" href="1.3.4_relay.html">1.3.4 Rel√©</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="2_input.html">2 Entrada</a></li>
<li class="toctree-l3"><a class="reference internal" href="3_extension.html">3 Extensiones</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../scratch_pi5/play_with_scratch.html">Juega con Scratch</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../for_other_models.html">Para Pi 4, 3 y Todos los Dem√°s Modelos de Pi</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python_video/python_video.html">Curso de Video en Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendix/appendix.html">Appendix</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../thank-learning.html">Gracias</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">SunFounder davinci-kit-for-raspberry-pi</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../for_pi5.html">Para Pi 5</a></li>
          <li class="breadcrumb-item"><a href="play_with_c.html">Play with C</a></li>
          <li class="breadcrumb-item"><a href="1_output.html">1 Salida</a></li>
      <li class="breadcrumb-item active">1.1.2 LED RGB</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/c_pi5/1.1.2_rgb_led.rst.txt" rel="nofollow"> Ver c√≥digo fuente de la p√°gina</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="admonition note">
<p class="admonition-title">Nota</p>
<p>¬°Hola! Bienvenido a la Comunidad de Entusiastas de Raspberry Pi, Arduino y ESP32 de SunFounder en Facebook. Profundiza en Raspberry Pi, Arduino y ESP32 con otros entusiastas.</p>
<p><strong>¬øPor qu√© unirse?</strong></p>
<ul class="simple">
<li><p><strong>Soporte Experto</strong>: Resuelve problemas post-venta y desaf√≠os t√©cnicos con la ayuda de nuestra comunidad y equipo.</p></li>
<li><p><strong>Aprender y Compartir</strong>: Intercambia consejos y tutoriales para mejorar tus habilidades.</p></li>
<li><p><strong>Vistas Exclusivas</strong>: Accede anticipadamente a anuncios de nuevos productos y adelantos.</p></li>
<li><p><strong>Descuentos Especiales</strong>: Disfruta de descuentos exclusivos en nuestros productos m√°s recientes.</p></li>
<li><p><strong>Promociones Festivas y Sorteos</strong>: Participa en sorteos y promociones navide√±as.</p></li>
</ul>
<p>üëâ ¬øListo para explorar y crear con nosotros? Haz clic en [<a href="https://bit.ly/raphaelkit " target="_blank">Aqu√≠</a>] y √∫nete hoy.</p>
</div>
<section id="led-rgb">
<h1>1.1.2 LED RGB<a class="headerlink" href="1.1.2_rgb_led.html#led-rgb" title="Link to this heading">ÔÉÅ</a></h1>
<section id="introduccion">
<h2>Introducci√≥n<a class="headerlink" href="1.1.2_rgb_led.html#introduccion" title="Link to this heading">ÔÉÅ</a></h2>
<p>En esta lecci√≥n, aprenderemos a controlar un LED RGB para que parpadee en varios colores.</p>
</section>
<section id="componentes">
<h2>Componentes<a class="headerlink" href="1.1.2_rgb_led.html#componentes" title="Link to this heading">ÔÉÅ</a></h2>
<img alt="../_images/list_rgb_led1.png" class="align-center" src="../_images/list_rgb_led1.png" />
</section>
<section id="principio">
<h2>Principio<a class="headerlink" href="1.1.2_rgb_led.html#principio" title="Link to this heading">ÔÉÅ</a></h2>
<p><strong>PWM</strong></p>
<p>La Modulaci√≥n por Ancho de Pulso, o PWM, es una t√©cnica para obtener
resultados anal√≥gicos mediante medios digitales. El control digital se
utiliza para crear una onda cuadrada, una se√±al que alterna entre encendido
y apagado. Este patr√≥n de encendido y apagado puede simular voltajes intermedios
entre encendido total (5 Voltios) y apagado (0 Voltios) al variar el tiempo que
la se√±al permanece encendida frente al tiempo que permanece apagada. La duraci√≥n
del ¬´tiempo de encendido¬ª se denomina ancho de pulso. Para obtener valores
anal√≥gicos variables, se cambia o modula dicho ancho. Si se repite este patr√≥n
de encendido y apagado lo suficientemente r√°pido con alg√∫n dispositivo, como un
LED, el resultado ser√≠a una se√±al de voltaje constante entre 0 y 5v que controla
el brillo del LED.</p>
<p><strong>Ciclo de Trabajo</strong></p>
<p>Un ciclo de trabajo es el porcentaje de un per√≠odo en el que una se√±al est√° activa.
Un per√≠odo es el tiempo que tarda una se√±al en completar un ciclo de encendido y apagado.
Como f√≥rmula, un ciclo de trabajo se puede expresar as√≠:</p>
<a class="reference internal image-reference" href="../_images/image561.png"><img alt="../_images/image561.png" class="align-center" src="../_images/image561.png" style="width: 1.16667in; height: 0.36458in;" />
</a>
<p>Donde <strong>D</strong> es el ciclo de trabajo, <strong>T</strong> es el tiempo que la se√±al est√°
activa, y <strong>P</strong> es el per√≠odo total de la se√±al. Por lo tanto, un ciclo
de trabajo del 60% significa que la se√±al est√° encendida el 60% del tiempo
y apagada el 40% del tiempo. El ¬´tiempo de encendido¬ª para un ciclo de trabajo
del 60% podr√≠a ser una fracci√≥n de segundo, un d√≠a o incluso una semana,
dependiendo de la duraci√≥n del per√≠odo.</p>
<a class="reference internal image-reference" href="../_images/image571.jpeg"><img alt="../_images/image571.jpeg" class="align-center" src="../_images/image571.jpeg" style="width: 4.325in; height: 5.49167in;" />
</a>
<p><strong>LED RGB</strong></p>
<a class="reference internal image-reference" href="../_images/rgb_led_sch1.png"><img alt="../_images/rgb_led_sch1.png" class="align-center" src="../_images/rgb_led_sch1.png" style="width: 500px;" />
</a>
<p>Los tres colores primarios del LED RGB se pueden mezclar para crear varios
colores a trav√©s de su brillo. El brillo del LED se puede ajustar con PWM.
La Raspberry Pi solo tiene un canal para la salida PWM de hardware, pero
necesita tres canales para controlar el LED RGB, lo que significa que es
dif√≠cil controlar el LED RGB con el PWM de hardware de la Raspberry Pi.
Afortunadamente, la biblioteca softPwm simula PWM (softPwm) mediante programaci√≥n. Solo necesitas incluir el archivo de encabezado softPwm.h (para los usuarios de C), y luego llamar a la API que proporciona para controlar f√°cilmente el LED RGB mediante salida PWM multicanal, de modo que se puedan mostrar todo tipo de colores.</p>
</section>
<section id="diagrama-esquematico">
<h2>Diagrama Esquem√°tico<a class="headerlink" href="1.1.2_rgb_led.html#diagrama-esquematico" title="Link to this heading">ÔÉÅ</a></h2>
<p>Despu√©s de conectar los pines R, G y B a una resistencia limitadora de corriente,
con√©ctalos a GPIO17, GPIO18 y GPIO27 respectivamente. El pin m√°s largo (GND) del
LED se conecta al GND de la Raspberry Pi. Cuando se le dan diferentes valores de
PWM a los tres pines, el LED RGB mostrar√° diferentes colores.</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>T-Board Name</p></td>
<td><p>physical</p></td>
<td><p>wiringPi</p></td>
<td><p>BCM</p></td>
</tr>
<tr class="row-even"><td><p>GPIO17</p></td>
<td><p>Pin 11</p></td>
<td><p>0</p></td>
<td><p>17</p></td>
</tr>
<tr class="row-odd"><td><p>GPIO18</p></td>
<td><p>Pin 12</p></td>
<td><p>1</p></td>
<td><p>18</p></td>
</tr>
<tr class="row-even"><td><p>GPIO27</p></td>
<td><p>Pin 13</p></td>
<td><p>2</p></td>
<td><p>27</p></td>
</tr>
</tbody>
</table>
<img alt="../_images/rgb_led_schematic1.png" src="../_images/rgb_led_schematic1.png" />
</section>
<section id="procedimientos-experimentales">
<h2>Procedimientos Experimentales<a class="headerlink" href="1.1.2_rgb_led.html#procedimientos-experimentales" title="Link to this heading">ÔÉÅ</a></h2>
<p><strong>Paso 1:</strong> Construir el circuito.</p>
<a class="reference internal image-reference" href="../_images/image611.png"><img alt="../_images/image611.png" src="../_images/image611.png" style="width: 6.59097in; height: 4.29722in;" />
</a>
<p><strong>Paso 2:</strong> Ir a la carpeta del c√≥digo.</p>
<run></run><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">~/</span><span class="n">davinci</span><span class="o">-</span><span class="n">kit</span><span class="o">-</span><span class="k">for</span><span class="o">-</span><span class="n">raspberry</span><span class="o">-</span><span class="n">pi</span><span class="o">/</span><span class="n">c</span><span class="o">/</span><span class="mf">1.1.2</span><span class="o">/</span>
</pre></div>
</div>
<p><strong>Paso 3:</strong> Compilar el c√≥digo.</p>
<run></run><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gcc</span> <span class="mf">1.1.2</span><span class="n">_rgbLed</span><span class="o">.</span><span class="n">c</span> <span class="o">-</span><span class="n">lwiringPi</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Cuando se ejecute la instrucci√≥n ¬´gcc¬ª, si no se llama a ¬´-o¬ª, el archivo ejecutable se nombrar√° ¬´a.out¬ª.</p>
</div>
<p><strong>Paso 4:</strong> Ejecutar el archivo ejecutable.</p>
<run></run><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="o">./</span><span class="n">a</span><span class="o">.</span><span class="n">out</span>
</pre></div>
</div>
<p>Despu√©s de que se ejecute el c√≥digo, ver√°s que el RGB muestra rojo, verde,
azul, amarillo, p√∫rpura y cian.</p>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Si no funciona despu√©s de ejecutarlo, o si aparece un mensaje de error: &quot;wiringPi.h: No such file or directory¬ª, consulta <a class="reference internal" href="../faq.html#c-code-is-not-working"><span class="std std-ref">c code is not working?</span></a>.</p>
</div>
<p><strong>C√≥digo</strong></p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;wiringPi.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;softPwm.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
<span class="cp">#define uchar unsigned char</span>
<span class="cp">#define LedPinRed    0</span>
<span class="cp">#define LedPinGreen  1</span>
<span class="cp">#define LedPinBlue   2</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">ledInit</span><span class="p">(</span><span class="kt">void</span><span class="p">){</span>
<span class="w">    </span><span class="n">softPwmCreate</span><span class="p">(</span><span class="n">LedPinRed</span><span class="p">,</span><span class="w">  </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">);</span>
<span class="w">    </span><span class="n">softPwmCreate</span><span class="p">(</span><span class="n">LedPinGreen</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">);</span>
<span class="w">    </span><span class="n">softPwmCreate</span><span class="p">(</span><span class="n">LedPinBlue</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">ledColorSet</span><span class="p">(</span><span class="n">uchar</span><span class="w"> </span><span class="n">r_val</span><span class="p">,</span><span class="w"> </span><span class="n">uchar</span><span class="w"> </span><span class="n">g_val</span><span class="p">,</span><span class="w"> </span><span class="n">uchar</span><span class="w"> </span><span class="n">b_val</span><span class="p">){</span>
<span class="w">    </span><span class="n">softPwmWrite</span><span class="p">(</span><span class="n">LedPinRed</span><span class="p">,</span><span class="w">   </span><span class="n">r_val</span><span class="p">);</span>
<span class="w">    </span><span class="n">softPwmWrite</span><span class="p">(</span><span class="n">LedPinGreen</span><span class="p">,</span><span class="w"> </span><span class="n">g_val</span><span class="p">);</span>
<span class="w">    </span><span class="n">softPwmWrite</span><span class="p">(</span><span class="n">LedPinBlue</span><span class="p">,</span><span class="w">  </span><span class="n">b_val</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">){</span>

<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">wiringPiSetup</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">-1</span><span class="p">){</span><span class="w"> </span><span class="c1">//si la inicializaci√≥n de wiring falla, printf mensaje en pantalla</span>
<span class="w">         </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;setup wiringPi failed !&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">ledInit</span><span class="p">();</span>
<span class="w">    </span><span class="k">while</span><span class="p">(</span><span class="mi">1</span><span class="p">){</span>
<span class="w">         </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Red</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="w">         </span><span class="n">ledColorSet</span><span class="p">(</span><span class="mh">0xff</span><span class="p">,</span><span class="mh">0x00</span><span class="p">,</span><span class="mh">0x00</span><span class="p">);</span><span class="w">   </span><span class="c1">//red</span>
<span class="w">        </span><span class="n">delay</span><span class="p">(</span><span class="mi">500</span><span class="p">);</span>
<span class="w">         </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Green</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="w">         </span><span class="n">ledColorSet</span><span class="p">(</span><span class="mh">0x00</span><span class="p">,</span><span class="mh">0xff</span><span class="p">,</span><span class="mh">0x00</span><span class="p">);</span><span class="w">   </span><span class="c1">//green</span>
<span class="w">        </span><span class="n">delay</span><span class="p">(</span><span class="mi">500</span><span class="p">);</span>
<span class="w">         </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Blue</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="w">         </span><span class="n">ledColorSet</span><span class="p">(</span><span class="mh">0x00</span><span class="p">,</span><span class="mh">0x00</span><span class="p">,</span><span class="mh">0xff</span><span class="p">);</span><span class="w">   </span><span class="c1">//blue</span>
<span class="w">        </span><span class="n">delay</span><span class="p">(</span><span class="mi">500</span><span class="p">);</span>
<span class="w">         </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Yellow</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="w">         </span><span class="n">ledColorSet</span><span class="p">(</span><span class="mh">0xff</span><span class="p">,</span><span class="mh">0xff</span><span class="p">,</span><span class="mh">0x00</span><span class="p">);</span><span class="w">   </span><span class="c1">//yellow</span>
<span class="w">        </span><span class="n">delay</span><span class="p">(</span><span class="mi">500</span><span class="p">);</span>
<span class="w">         </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Purple</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="w">         </span><span class="n">ledColorSet</span><span class="p">(</span><span class="mh">0xff</span><span class="p">,</span><span class="mh">0x00</span><span class="p">,</span><span class="mh">0xff</span><span class="p">);</span><span class="w">   </span><span class="c1">//purple</span>
<span class="w">        </span><span class="n">delay</span><span class="p">(</span><span class="mi">500</span><span class="p">);</span>
<span class="w">         </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Cyan</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="w">         </span><span class="n">ledColorSet</span><span class="p">(</span><span class="mh">0xc0</span><span class="p">,</span><span class="mh">0xff</span><span class="p">,</span><span class="mh">0x3e</span><span class="p">);</span><span class="w">   </span><span class="c1">//cyan</span>
<span class="w">        </span><span class="n">delay</span><span class="p">(</span><span class="mi">500</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Explicaci√≥n del C√≥digo</strong></p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;softPwm.h&gt;</span>
</pre></div>
</div>
<p>La biblioteca utilizada para realizar la funci√≥n pwm del software.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">ledInit</span><span class="p">(</span><span class="kt">void</span><span class="p">){</span>
<span class="w">    </span><span class="n">softPwmCreate</span><span class="p">(</span><span class="n">LedPinRed</span><span class="p">,</span><span class="w">  </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">);</span>
<span class="w">    </span><span class="n">softPwmCreate</span><span class="p">(</span><span class="n">LedPinGreen</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">);</span>
<span class="w">    </span><span class="n">softPwmCreate</span><span class="p">(</span><span class="n">LedPinBlue</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>La funci√≥n utiliza software para crear un pin PWM, estableciendo su per√≠odo
entre 0x100us-100x100us.</p>
<p>El prototipo de la funci√≥n softPwmCreate(LedPinRed, 0, 100) es el siguiente:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="nf">softPwmCreate</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">pin</span><span class="p">,</span><span class="kt">int</span><span class="w"> </span><span class="n">initialValue</span><span class="p">,</span><span class="kt">int</span><span class="w"> </span><span class="n">pwmRange</span><span class="p">);</span>
</pre></div>
</div>
<ul class="simple">
<li><p><strong>Par√°metro pin:</strong> Cualquier pin GPIO de Raspberry Pi puede configurarse como un pin PWM.</p></li>
<li><p><strong>Par√°metro initialValue:</strong> El ancho del pulso inicial es ese valor inicial multiplicado por 100us.</p></li>
<li><p><strong>Par√°metro pwmRange:</strong> el per√≠odo de PWM es ese rango pwm multiplicado por 100us.</p></li>
</ul>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">ledColorSet</span><span class="p">(</span><span class="n">uchar</span><span class="w"> </span><span class="n">r_val</span><span class="p">,</span><span class="w"> </span><span class="n">uchar</span><span class="w"> </span><span class="n">g_val</span><span class="p">,</span><span class="w"> </span><span class="n">uchar</span><span class="w"> </span><span class="n">b_val</span><span class="p">){</span>
<span class="w">    </span><span class="n">softPwmWrite</span><span class="p">(</span><span class="n">LedPinRed</span><span class="p">,</span><span class="w">   </span><span class="n">r_val</span><span class="p">);</span>
<span class="w">    </span><span class="n">softPwmWrite</span><span class="p">(</span><span class="n">LedPinGreen</span><span class="p">,</span><span class="w"> </span><span class="n">g_val</span><span class="p">);</span>
<span class="w">    </span><span class="n">softPwmWrite</span><span class="p">(</span><span class="n">LedPinBlue</span><span class="p">,</span><span class="w">  </span><span class="n">b_val</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Esta funci√≥n establece los colores del LED. Usando RGB, el par√°metro formal <strong>r_val</strong>
representa la luminiscencia del rojo, <strong>g_val</strong> del verde, <strong>b_val</strong> del azul.</p>
<p>El prototipo de la funci√≥n softPwmWrite(LedPinBlue, b_val) es el siguiente:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">softPwmWrite</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">pin</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">;</span>
</pre></div>
</div>
<ul class="simple">
<li><p><strong>Par√°metro pin:</strong> Cualquier pin GPIO de Raspberry Pi puede configurarse como un pin PWM.</p></li>
<li><p><strong>Par√°metro Value:</strong> El ancho del pulso de PWM es el valor multiplicado por 100us. Ten en cuenta que el valor solo puede ser menor que el rango pwm definido anteriormente; si es mayor que el rango pwm, se le asignar√° un valor fijo, el rango pwm.</p></li>
</ul>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">ledColorSet</span><span class="p">(</span><span class="mh">0xff</span><span class="p">,</span><span class="mh">0x00</span><span class="p">,</span><span class="mh">0x00</span><span class="p">);</span>
</pre></div>
</div>
<p>Llama a la funci√≥n definida anteriormente. Escribe 0xff en LedPinRed y 0x00
en LedPinGreen y LedPinBlue. Solo el LED rojo se encender√° despu√©s de ejecutar
este c√≥digo. Si deseas encender LEDs en otros colores, simplemente modifica
los par√°metros.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Pie de p√°gina">
        <a href="1.1.1_blinking_led.html" class="btn btn-neutral float-left" title="1.1.1 LED parpadeante" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Anterior</a>
        <a href="1.1.3_led_bar_graph.html" class="btn btn-neutral float-right" title="1.1.3 LED de Barra" accesskey="n" rel="next">Siguiente <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Derechos de autor 2025, SunFounder.</p>
  </div>

  Compilado con <a href="https://www.sphinx-doc.org/">Sphinx</a> usando un
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">tema</a>
    proporcionado por <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>