

<!DOCTYPE html>
<html class="writer-html5" lang="it" data-content_root="../">
<head>
  <meta charset="utf-8" />
  <meta name="readthedocs-addons-api-version" content="1"><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>1.1.4 Display a 7 Segmenti &mdash; SunFounder davinci-kit-for-raspberry-pi  documentazione</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css%3Fv=80d5e7a1.css" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css%3Fv=e59714d7.css" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css%3Fv=76b2166b.css" />
      <link rel="stylesheet" type="text/css" href="https://ezblock.cc/readDocFile/custom.css" />
      <link rel="stylesheet" type="text/css" href="https://ezblock.cc/readDocFile/readTheDoc/src/css/index.css" />
      <link rel="stylesheet" type="text/css" href="https://ezblock.cc/readDocFile/readTheDoc/src/css/xterm.css" />

  
      <script src="../_static/jquery.js%3Fv=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js%3Fv=2cd50e6c"></script>
      <script src="../_static/documentation_options.js%3Fv=3fd72285"></script>
      <script src="../_static/doctools.js%3Fv=9a2dae69"></script>
      <script src="../_static/sphinx_highlight.js%3Fv=dc90522c"></script>
      <script src="../_static/clipboard.min.js%3Fv=a7894cd8"></script>
      <script src="../_static/copybutton.js%3Fv=f281be69"></script>
      <script src="../_static/translations.js%3Fv=0173e136"></script>
      <script src="https://ezblock.cc/readDocFile/custom.js"></script>
      <script src="https://docs.sunfounder.com/projects/davinci-kit/it/latest/_static/lang.js"></script>
      <script src="https://ezblock.cc/readDocFile/readTheDoc/src/js/ace.js"></script>
      <script src="https://ezblock.cc/readDocFile/readTheDoc/src/js/ext-language_tools.js"></script>
      <script src="https://ezblock.cc/readDocFile/readTheDoc/src/js/theme-chrome.js"></script>
      <script src="https://ezblock.cc/readDocFile/readTheDoc/src/js/mode-python.js"></script>
      <script src="https://ezblock.cc/readDocFile/readTheDoc/src/js/mode-sh.js"></script>
      <script src="https://ezblock.cc/readDocFile/readTheDoc/src/js/monokai.js"></script>
      <script src="https://ezblock.cc/readDocFile/readTheDoc/src/js/xterm.js"></script>
      <script src="https://ezblock.cc/readDocFile/readTheDoc/src/js/FitAddon.js"></script>
      <script src="https://ezblock.cc/readDocFile/readTheDoc/src/js/readTheDocIndex.js"></script>
    <script src="../_static/js/theme.js"></script>
    <script src="../_static/js/versions.js"></script>
    <link rel="index" title="Indice" href="../genindex.html" />
    <link rel="search" title="Cerca" href="../search.html" />
    <link rel="next" title="1.1.5 Display a 4 Cifre e 7 Segmenti" href="pi5_1.1.5_4-Digit_7-segment_display_python.html" />
    <link rel="prev" title="1.1.3 Grafico a Barre LED" href="pi5_1.1.3_led_bar_graph_python.html" /> 
<script async type="text/javascript" src="../../../../../_/static/javascript/readthedocs-addons.js"></script><meta name="readthedocs-project-slug" content="davinci-kit-it" /><meta name="readthedocs-version-slug" content="latest" /><meta name="readthedocs-resolver-filename" content="/python_pi5/pi5_1.1.4_7-segment_display_python.html" /><meta name="readthedocs-http-status" content="200" /></head>

<body class="wy-body-for-nav">
<nav id="nav-bar">
  <ul class="nav-bar-items" id="nav-bar-items">
    <li class="nav-bar-logo">
      <a href="https://sunfounder.com">
        <img class="logo-img" src="https://ezblock.cc/readDocFile/sunfounder_LOGO_160x@2x.png"/>
      </a>
    </li>
  </ul>
</nav>

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            SunFounder davinci-kit-for-raspberry-pi
          </a>
              <div class="switch-menus">
                <div class="version-switch"></div>
                <div class="language-switch"></div>
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Cerca documenti" aria-label="Cerca documenti" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Menu di navigazione">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">About this Kit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../component_list.html">Elenco dei Componenti</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gpio_extension_board.html">Scheda di Estensione GPIO</a></li>
<li class="toctree-l1"><a class="reference internal" href="../download_the_code.html">Scarica il Codice</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install_setup_os/install_setup_os.html">Installazione e configurazione di Raspberry Pi OS</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../for_pi5.html">Per Pi 5</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="play_with_python_pi5.html">Divertiti con Python</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="check_the_gpiozero_python.html">Verifica di <code class="docutils literal notranslate"><span class="pre">GPIO</span> <span class="pre">Zero</span></code></a></li>
<li class="toctree-l3 current"><a class="reference internal" href="pi5_output_python.html">Output</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="pi5_output_python.html#display">1.1 Display</a></li>
<li class="toctree-l4"><a class="reference internal" href="pi5_output_python.html#suono">1.2 Suono</a></li>
<li class="toctree-l4"><a class="reference internal" href="pi5_output_python.html#driver">1.3 Driver</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="pi5_input_python.html">Input</a></li>
<li class="toctree-l3"><a class="reference internal" href="pi5_extension_python.html">Estensioni</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../c_pi5/play_with_c.html">Gioca con C</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scratch_pi5/play_with_scratch.html">Giocare con Scratch</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../for_other_models.html">Per Pi 4, 3 e tutti gli altri modelli Pi</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python_video/python_video.html">Corso Video Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendix/appendix.html">Appendice</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../thank-learning.html">Grazie</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Menu navigazione dispositivi mobili" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">SunFounder davinci-kit-for-raspberry-pi</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Naviga tra le pagine">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../for_pi5.html">Per Pi 5</a></li>
          <li class="breadcrumb-item"><a href="play_with_python_pi5.html">Divertiti con Python</a></li>
          <li class="breadcrumb-item"><a href="pi5_output_python.html">Output</a></li>
      <li class="breadcrumb-item active">1.1.4 Display a 7 Segmenti</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/python_pi5/pi5_1.1.4_7-segment_display_python.rst.txt" rel="nofollow"> Visualizza sorgente pagina</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Ciao, benvenuto nella Community di Facebook dedicata agli appassionati di SunFounder Raspberry Pi, Arduino ed ESP32! Approfondisci le tue conoscenze su Raspberry Pi, Arduino ed ESP32 insieme ad altri appassionati.</p>
<p><strong>Perché unirsi a noi?</strong></p>
<ul class="simple">
<li><p><strong>Supporto Esperto</strong>: Risolvi problematiche post-vendita e sfide tecniche con l’aiuto della nostra comunità e del nostro team.</p></li>
<li><p><strong>Impara e Condividi</strong>: Scambia consigli e tutorial per migliorare le tue competenze.</p></li>
<li><p><strong>Anteprime Esclusive</strong>: Ottieni accesso anticipato agli annunci di nuovi prodotti e alle anteprime.</p></li>
<li><p><strong>Sconti Speciali</strong>: Approfitta di sconti esclusivi sui nostri prodotti più recenti.</p></li>
<li><p><strong>Promozioni Festive e Giveaway</strong>: Partecipa a concorsi e promozioni speciali.</p></li>
</ul>
<p>👉 Sei pronto a esplorare e creare con noi? Clicca su [<a href="https://bit.ly/raphaelkit " target="_blank">Qui</a>] e unisciti subito!</p>
</div>
<section id="display-a-7-segmenti">
<span id="py-pi5"></span><h1>1.1.4 Display a 7 Segmenti<a class="headerlink" href="pi5_1.1.4_7-segment_display_python.html#display-a-7-segmenti" title="Link to this heading"></a></h1>
<section id="introduzione">
<h2>Introduzione<a class="headerlink" href="pi5_1.1.4_7-segment_display_python.html#introduzione" title="Link to this heading"></a></h2>
<p>Proviamo a gestire un display a 7 segmenti per visualizzare le cifre da
0 a 9 e le lettere da A a F.</p>
</section>
<section id="componenti-necessari">
<h2>Componenti Necessari<a class="headerlink" href="pi5_1.1.4_7-segment_display_python.html#componenti-necessari" title="Link to this heading"></a></h2>
<p>Per questo progetto, avremo bisogno dei seguenti componenti.</p>
<img alt="../_images/1.1.4_7_segment_list.png" src="../_images/1.1.4_7_segment_list.png" />
<br/></section>
<section id="schema-a-blocchi">
<h2>Schema a Blocchi<a class="headerlink" href="pi5_1.1.4_7-segment_display_python.html#schema-a-blocchi" title="Link to this heading"></a></h2>
<p>Collega il pin ST_CP del 74HC595 al GPIO18 del Raspberry Pi, SH_CP al GPIO27,
DS al GPIO17 e le porte di uscita parallela agli 8 segmenti del display a 7 segmenti LED.</p>
<p>Invia i dati al pin DS per il registro a scorrimento quando SH_CP (l’ingresso di
clock del registro a scorrimento) è al fronte di salita, e al registro di memoria
quando ST_CP (l’ingresso di clock della memoria) è al fronte di salita.</p>
<p>In questo modo, puoi controllare gli stati di SH_CP e ST_CP tramite i GPIO del
Raspberry Pi per convertire i dati di ingresso seriale in uscita parallela,
risparmiando GPIO e guidando il display.</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>T-Board Name</p></td>
<td><p>physical</p></td>
<td><p>BCM</p></td>
</tr>
<tr class="row-even"><td><p>GPIO17</p></td>
<td><p>Pin 11</p></td>
<td><p>17</p></td>
</tr>
<tr class="row-odd"><td><p>GPIO18</p></td>
<td><p>Pin 12</p></td>
<td><p>18</p></td>
</tr>
<tr class="row-even"><td><p>GPIO27</p></td>
<td><p>Pin 13</p></td>
<td><p>27</p></td>
</tr>
</tbody>
</table>
<img alt="../_images/1.1.4_7_segment_schematic.png" src="../_images/1.1.4_7_segment_schematic.png" />
</section>
<section id="procedure-sperimentali">
<h2>Procedure Sperimentali<a class="headerlink" href="pi5_1.1.4_7-segment_display_python.html#procedure-sperimentali" title="Link to this heading"></a></h2>
<p><strong>Passo 1:</strong> Costruisci il circuito.</p>
<img alt="../_images/1.1.4_7-Segment_circuit.png" src="../_images/1.1.4_7-Segment_circuit.png" />
<p><strong>Passo 2:</strong> Accedi alla cartella del codice.</p>
<run></run><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">~/</span><span class="n">davinci</span><span class="o">-</span><span class="n">kit</span><span class="o">-</span><span class="k">for</span><span class="o">-</span><span class="n">raspberry</span><span class="o">-</span><span class="n">pi</span><span class="o">/</span><span class="n">python</span><span class="o">-</span><span class="n">pi5</span>
</pre></div>
</div>
<p><strong>Passo 3:</strong> Esegui il programma.</p>
<run></run><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">python3</span> <span class="mf">1.1.4_7</span><span class="o">-</span><span class="n">Segment</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>Dopo l’esecuzione del codice, vedrai il display a 7 segmenti mostrare le cifre da 0 a 9 e da A a F.</p>
<div class="admonition warning">
<p class="admonition-title">Avvertimento</p>
<p>Se appare l’errore <code class="docutils literal notranslate"><span class="pre">RuntimeError:</span> <span class="pre">Cannot</span> <span class="pre">determine</span> <span class="pre">SOC</span> <span class="pre">peripheral</span> <span class="pre">base</span> <span class="pre">address</span></code>, consulta <a class="reference internal" href="../faq.html#faq-soc"><span class="std std-ref">Se gpiozero non funziona.</span></a></p>
</div>
<p><strong>Codice</strong></p>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Puoi <strong>Modificare/Reimpostare/Copiare/Eseguire/Arrestare</strong> il codice qui sotto. Ma prima, è necessario andare al percorso del codice sorgente, come <code class="docutils literal notranslate"><span class="pre">davinci-kit-for-raspberry-pi/python-pi5</span></code>. Dopo aver modificato il codice, puoi eseguirlo direttamente per vedere l’effetto. Dopo aver verificato che non ci siano problemi, puoi usare il pulsante Copy per copiare il codice modificato, poi aprire il codice sorgente nel Terminale tramite il comando <code class="docutils literal notranslate"><span class="pre">nano</span></code> e incollarlo.</p>
</div>
<run></run><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env python3</span>
<span class="kn">from</span> <span class="nn">gpiozero</span> <span class="kn">import</span> <span class="n">OutputDevice</span>
<span class="kn">from</span> <span class="nn">time</span> <span class="kn">import</span> <span class="n">sleep</span>

<span class="c1"># Pin GPIO collegati al registro a scorrimento 74HC595</span>
<span class="n">SDI</span> <span class="o">=</span> <span class="n">OutputDevice</span><span class="p">(</span><span class="mi">17</span><span class="p">)</span>   <span class="c1"># Ingresso dati seriali</span>
<span class="n">RCLK</span> <span class="o">=</span> <span class="n">OutputDevice</span><span class="p">(</span><span class="mi">18</span><span class="p">)</span>  <span class="c1"># Ingresso clock della memoria (Clock del registro)</span>
<span class="n">SRCLK</span> <span class="o">=</span> <span class="n">OutputDevice</span><span class="p">(</span><span class="mi">27</span><span class="p">)</span> <span class="c1"># Clock del registro a scorrimento</span>

<span class="c1"># Codici esadecimali per visualizzare le cifre su un display a 7 segmenti a catodo comune</span>
<span class="n">segCode</span> <span class="o">=</span> <span class="p">[</span>
    <span class="mh">0x3f</span><span class="p">,</span> <span class="mh">0x06</span><span class="p">,</span> <span class="mh">0x5b</span><span class="p">,</span> <span class="mh">0x4f</span><span class="p">,</span> <span class="mh">0x66</span><span class="p">,</span> <span class="mh">0x6d</span><span class="p">,</span> <span class="mh">0x7d</span><span class="p">,</span>
    <span class="mh">0x07</span><span class="p">,</span> <span class="mh">0x7f</span><span class="p">,</span> <span class="mh">0x6f</span><span class="p">,</span> <span class="mh">0x77</span><span class="p">,</span> <span class="mh">0x7c</span><span class="p">,</span> <span class="mh">0x39</span><span class="p">,</span> <span class="mh">0x5e</span><span class="p">,</span> <span class="mh">0x79</span><span class="p">,</span> <span class="mh">0x71</span>
<span class="p">]</span>

<span class="k">def</span> <span class="nf">hc595_shift</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
    <span class="c1"># Scorrimento di 8 bit di dati nel 74HC595</span>
    <span class="k">for</span> <span class="n">bit</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">):</span>
        <span class="c1"># Imposta SDI su alto o basso in base al bit di dati</span>
        <span class="n">SDI</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="mh">0x80</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">data</span> <span class="o">&lt;&lt;</span> <span class="n">bit</span><span class="p">)</span>
        <span class="c1"># Attiva il clock del registro a scorrimento</span>
        <span class="n">SRCLK</span><span class="o">.</span><span class="n">on</span><span class="p">()</span>
        <span class="n">sleep</span><span class="p">(</span><span class="mf">0.001</span><span class="p">)</span>
        <span class="n">SRCLK</span><span class="o">.</span><span class="n">off</span><span class="p">()</span>
    <span class="c1"># Blocca i dati sull’uscita attivando il clock della memoria</span>
    <span class="n">RCLK</span><span class="o">.</span><span class="n">on</span><span class="p">()</span>
    <span class="n">sleep</span><span class="p">(</span><span class="mf">0.001</span><span class="p">)</span>
    <span class="n">RCLK</span><span class="o">.</span><span class="n">off</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">display_all_on</span><span class="p">():</span>
    <span class="c1"># Funzione per accendere tutti i segmenti (per display a 7 segmenti a catodo comune)</span>
    <span class="n">all_on_code</span> <span class="o">=</span> <span class="mh">0x3f</span>
    <span class="n">hc595_shift</span><span class="p">(</span><span class="n">all_on_code</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Displaying all segments on&quot;</span><span class="p">)</span>

<span class="k">try</span><span class="p">:</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="c1"># Visualizza ciascuna cifra esadecimale sul display a 7 segmenti</span>
        <span class="k">for</span> <span class="n">code</span> <span class="ow">in</span> <span class="n">segCode</span><span class="p">:</span>
            <span class="n">hc595_shift</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>  <span class="c1"># Trasferisci il codice nel 74HC595</span>
            <span class="c1"># Stampa il codice del segmento visualizzato</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Displaying segCode[</span><span class="si">{</span><span class="n">segCode</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">code</span><span class="p">)</span><span class="si">}</span><span class="s2">]: 0x</span><span class="si">{</span><span class="n">code</span><span class="si">:</span><span class="s2">02X</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">sleep</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>  <span class="c1"># Pausa tra ogni cifra visualizzata</span>

<span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
    <span class="c1"># Gestisce l&#39;interruzione dello script (ad es. Ctrl+C)</span>
    <span class="k">pass</span>
</pre></div>
</div>
<p><strong>Spiegazione del Codice</strong></p>
<ol class="arabic">
<li><p>Questo snippet importa le classi necessarie per il progetto. <code class="docutils literal notranslate"><span class="pre">OutputDevice</span></code> da <code class="docutils literal notranslate"><span class="pre">gpiozero</span></code> è usato per controllare i componenti hardware collegati ai pin GPIO, e <code class="docutils literal notranslate"><span class="pre">sleep</span></code> da <code class="docutils literal notranslate"><span class="pre">time</span></code> per aggiungere ritardi.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env python3</span>
<span class="kn">from</span> <span class="nn">gpiozero</span> <span class="kn">import</span> <span class="n">OutputDevice</span>
<span class="kn">from</span> <span class="nn">time</span> <span class="kn">import</span> <span class="n">sleep</span>
</pre></div>
</div>
</li>
<li><p>SDI, RCLK e SRCLK corrispondono rispettivamente all’Ingresso Dati Seriali, all’Ingresso Clock della Memoria (Clock del Registro) e al Clock del Registro a Scorrimento del 74HC595.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Pin GPIO collegati al registro a scorrimento 74HC595</span>
<span class="n">SDI</span> <span class="o">=</span> <span class="n">OutputDevice</span><span class="p">(</span><span class="mi">17</span><span class="p">)</span>   <span class="c1"># Ingresso dati seriali</span>
<span class="n">RCLK</span> <span class="o">=</span> <span class="n">OutputDevice</span><span class="p">(</span><span class="mi">18</span><span class="p">)</span>  <span class="c1"># Ingresso clock della memoria (Clock del registro)</span>
<span class="n">SRCLK</span> <span class="o">=</span> <span class="n">OutputDevice</span><span class="p">(</span><span class="mi">27</span><span class="p">)</span> <span class="c1"># Clock del registro a scorrimento</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">segCode</span></code> è un array che contiene i codici esadecimali per ogni cifra da visualizzare sul display a 7 segmenti.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Codici esadecimali per visualizzare le cifre su un display a 7 segmenti a catodo comune</span>
<span class="n">segCode</span> <span class="o">=</span> <span class="p">[</span>
    <span class="mh">0x3f</span><span class="p">,</span> <span class="mh">0x06</span><span class="p">,</span> <span class="mh">0x5b</span><span class="p">,</span> <span class="mh">0x4f</span><span class="p">,</span> <span class="mh">0x66</span><span class="p">,</span> <span class="mh">0x6d</span><span class="p">,</span> <span class="mh">0x7d</span><span class="p">,</span>
    <span class="mh">0x07</span><span class="p">,</span> <span class="mh">0x7f</span><span class="p">,</span> <span class="mh">0x6f</span><span class="p">,</span> <span class="mh">0x77</span><span class="p">,</span> <span class="mh">0x7c</span><span class="p">,</span> <span class="mh">0x39</span><span class="p">,</span> <span class="mh">0x5e</span><span class="p">,</span> <span class="mh">0x79</span><span class="p">,</span> <span class="mh">0x71</span>
<span class="p">]</span>
</pre></div>
</div>
</li>
<li><p>Questa funzione scorre 8 bit di dati nel 74HC595. Immette ciascun bit in <code class="docutils literal notranslate"><span class="pre">SDI</span></code>, attiva <code class="docutils literal notranslate"><span class="pre">SRCLK</span></code> per scorrere il bit e utilizza <code class="docutils literal notranslate"><span class="pre">RCLK</span></code> per bloccare i dati sull’uscita.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">hc595_shift</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
    <span class="c1"># Scorrimento di 8 bit di dati nel 74HC595</span>
    <span class="k">for</span> <span class="n">bit</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">):</span>
        <span class="c1"># Imposta SDI su alto o basso in base al bit di dati</span>
        <span class="n">SDI</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="mh">0x80</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">data</span> <span class="o">&lt;&lt;</span> <span class="n">bit</span><span class="p">)</span>
        <span class="c1"># Attiva il clock del registro a scorrimento</span>
        <span class="n">SRCLK</span><span class="o">.</span><span class="n">on</span><span class="p">()</span>
        <span class="n">sleep</span><span class="p">(</span><span class="mf">0.001</span><span class="p">)</span>
        <span class="n">SRCLK</span><span class="o">.</span><span class="n">off</span><span class="p">()</span>
    <span class="c1"># Blocca i dati sull’uscita attivando il clock della memoria</span>
    <span class="n">RCLK</span><span class="o">.</span><span class="n">on</span><span class="p">()</span>
    <span class="n">sleep</span><span class="p">(</span><span class="mf">0.001</span><span class="p">)</span>
    <span class="n">RCLK</span><span class="o">.</span><span class="n">off</span><span class="p">()</span>
</pre></div>
</div>
</li>
<li><p>Questa funzione accende tutti i segmenti del display inviando un codice specifico a <code class="docutils literal notranslate"><span class="pre">hc595_shift</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">display_all_on</span><span class="p">():</span>
    <span class="c1"># Funzione per accendere tutti i segmenti (per display a 7 segmenti a catodo comune)</span>
    <span class="n">all_on_code</span> <span class="o">=</span> <span class="mh">0x3f</span>
    <span class="n">hc595_shift</span><span class="p">(</span><span class="n">all_on_code</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Displaying all segments on&quot;</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>Nel ciclo principale, ogni codice in <code class="docutils literal notranslate"><span class="pre">segCode</span></code> viene inviato al display in sequenza, con una pausa tra ciascuno.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="c1"># Visualizza ciascuna cifra esadecimale sul display a 7 segmenti</span>
        <span class="k">for</span> <span class="n">code</span> <span class="ow">in</span> <span class="n">segCode</span><span class="p">:</span>
            <span class="n">hc595_shift</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>  <span class="c1"># Trasferisci il codice nel 74HC595</span>
            <span class="c1"># Stampa il codice del segmento visualizzato</span>
                   <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Displaying segCode[</span><span class="si">{</span><span class="n">segCode</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">code</span><span class="p">)</span><span class="si">}</span><span class="s2">]: 0x</span><span class="si">{</span><span class="n">code</span><span class="si">:</span><span class="s2">02X</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">sleep</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>  <span class="c1"># Pausa tra ogni cifra visualizzata</span>
</pre></div>
</div>
</li>
<li><p>Questa parte del codice gestisce l’interruzione dello script (come Ctrl+C) in modo sicuro.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
    <span class="c1"># Gestisce l&#39;interruzione dello script (ad es. Ctrl+C)</span>
    <span class="k">pass</span>
</pre></div>
</div>
</li>
</ol>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Piè di pagina">
        <a href="pi5_1.1.3_led_bar_graph_python.html" class="btn btn-neutral float-left" title="1.1.3 Grafico a Barre LED" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Precedente</a>
        <a href="pi5_1.1.5_4-Digit_7-segment_display_python.html" class="btn btn-neutral float-right" title="1.1.5 Display a 4 Cifre e 7 Segmenti" accesskey="n" rel="next">Prossimo <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, SunFounder.</p>
  </div>

  Realizzato con <a href="https://www.sphinx-doc.org/">Sphinx</a> usando un
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">tema</a>
    fornito da <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>